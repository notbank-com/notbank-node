var NotbankSdk=(()=>{var es=Object.create;var We=Object.defineProperty,ts=Object.defineProperties,rs=Object.getOwnPropertyDescriptor,os=Object.getOwnPropertyDescriptors,is=Object.getOwnPropertyNames,mt=Object.getOwnPropertySymbols,ss=Object.getPrototypeOf,tr=Object.prototype.hasOwnProperty,Yr=Object.prototype.propertyIsEnumerable;var Re=(r,e)=>(e=Symbol[r])?e:Symbol.for("Symbol."+r),rr=r=>{throw TypeError(r)};var Qr=(r,e,t)=>e in r?We(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,U=(r,e)=>{for(var t in e||(e={}))tr.call(e,t)&&Qr(r,t,e[t]);if(mt)for(var t of mt(e))Yr.call(e,t)&&Qr(r,t,e[t]);return r},Ee=(r,e)=>ts(r,os(e));var ns=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var de=(r,e)=>{var t={};for(var o in r)tr.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(r!=null&&mt)for(var o of mt(r))e.indexOf(o)<0&&Yr.call(r,o)&&(t[o]=r[o]);return t};var as=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),or=(r,e)=>{for(var t in e)We(r,t,{get:e[t],enumerable:!0})},Jr=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of is(e))!tr.call(r,i)&&i!==t&&We(r,i,{get:()=>e[i],enumerable:!(o=rs(e,i))||o.enumerable});return r};var jr=(r,e,t)=>(t=r!=null?es(ss(r)):{},Jr(e||!r||!r.__esModule?We(t,"default",{value:r,enumerable:!0}):t,r)),cs=r=>Jr(We({},"__esModule",{value:!0}),r);var ir=(r,e,t)=>e.has(r)||rr("Cannot "+t);var b=(r,e,t)=>(ir(r,e,"read from private field"),t?t.call(r):e.get(r)),M=(r,e,t)=>e.has(r)?rr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Y=(r,e,t,o)=>(ir(r,e,"write to private field"),o?o.call(r,t):e.set(r,t),t),g=(r,e,t)=>(ir(r,e,"access private method"),t);var E=(r,e,t)=>new Promise((o,i)=>{var n=l=>{try{c(t.next(l))}catch(p){i(p)}},a=l=>{try{c(t.throw(l))}catch(p){i(p)}},c=l=>l.done?o(l.value):Promise.resolve(l.value).then(n,a);c((t=t.apply(r,e)).next())}),ce=function(r,e){this[0]=r,this[1]=e},sr=(r,e,t)=>{var o=(a,c,l,p)=>{try{var m=t[a](c),R=(c=m.value)instanceof ce,D=m.done;Promise.resolve(R?c[0]:c).then(O=>R?o(a==="return"?a:"next",c[1]?{done:O.done,value:O.value}:O,l,p):l({value:O,done:D})).catch(O=>o("throw",O,l,p))}catch(O){p(O)}},i=a=>n[a]=c=>new Promise((l,p)=>o(a,c,l,p)),n={};return t=t.apply(r,e),n[Re("asyncIterator")]=()=>n,i("next"),i("throw"),i("return"),n},nr=r=>{var e=r[Re("asyncIterator")],t=!1,o,i={};return e==null?(e=r[Re("iterator")](),o=n=>i[n]=a=>e[n](a)):(e=e.call(r),o=n=>i[n]=a=>{if(t){if(t=!1,n==="throw")throw a;return a}return t=!0,{done:!1,value:new ce(new Promise(c=>{var l=e[n](a);l instanceof Object||rr("Object expected"),c(l)}),1)}}),i[Re("iterator")]=()=>i,o("next"),"throw"in e?o("throw"):i.throw=n=>{throw n},"return"in e&&o("return"),i},Kr=(r,e,t)=>(e=r[Re("asyncIterator")])?e.call(r):(r=r[Re("iterator")](),e={},t=(o,i)=>(i=r[o])&&(e[o]=n=>new Promise((a,c,l)=>(n=i.call(r,n),l=n.done,Promise.resolve(n.value).then(p=>a({value:p,done:l}),c)))),t("next"),t("return"),e);var Qi=as((RA,Wi)=>{"use strict";Wi.exports=WebSocket});var qn={};or(qn,{NotbankClient:()=>Zt,models:()=>mr});var mr={};or(mr,{ARProvince:()=>Bo,AccountType:()=>zr,ActionType:()=>$r,ArgentinaBankAccountKind:()=>Xr,BRState:()=>Wo,BrazilBankAccountKind:()=>Zr,CLComune:()=>Vo,ChangeReason:()=>oo,ChileBankAccountKind:()=>eo,ColombiaBankAccountKind:()=>ro,DepositFeeMessages:()=>so,DepositStatus:()=>no,Direction:()=>ao,DocumentAdressType:()=>co,FeeCalcType:()=>jo,FeeProductType:()=>uo,FeeType:()=>Ko,Gender:()=>lo,InstitutionalMember:()=>cr,InstrumentStateArgument:()=>mo,InstrumentType:()=>po,IntTransactionSubType:()=>Jo,IntTransactionType:()=>Yo,MakerTaker:()=>So,NotbankError:()=>q,OrderFlag:()=>fo,OrderSide:()=>Ro,OrderState:()=>Eo,OrderTypeInt:()=>Ao,OrderTypeStr:()=>To,PegPriceType:()=>Oo,PeruBankAccountKind:()=>to,PixType:()=>ho,ProductType:()=>Io,Profession:()=>Qo,ReferenceType:()=>_o,ReportFlavor:()=>No,ReportFrequency:()=>go,ReportRequestStatus:()=>vo,ReportWriterResultStatus:()=>Uo,RiskType:()=>bo,SessionStatus:()=>Po,SideType:()=>Do,SubscriptionResponse:()=>lr,SupportedCountry:()=>io,TimeInForce:()=>xo,TradeDirection:()=>wo,TradeSide:()=>Mo,TransactionReferenceTypes:()=>qo,TransactionTypes:()=>Co,UnsubscribeLevel2ErrorCode:()=>yo,UnsubscribeTradesError:()=>Fo,UnsubscriptionResponse:()=>ur,WithdrawErrorCode:()=>Lo,WithdrawFeeMessages:()=>Go,WithdrawTemplateType:()=>ko,YieldProduct:()=>Ho,orderbookFromRaw:()=>ar});var zr=(t=>(t.ASSET="Asset",t.LIABILITY="Liability",t))(zr||{});var $r=(o=>(o[o.NEW=0]="NEW",o[o.UPDATE=1]="UPDATE",o[o.DELETION=2]="DELETION",o))($r||{});var Xr=(c=>(c.CORRIENTE="corriente",c.VISTA="vista",c.AHORRO="ahorro",c.ELECTRONIC_CHECKBOOK="electronic_checkbook",c.AR_CBU="ar_cbu",c.AR_CVU="ar_cvu",c.AR_ALIAS="ar_alias",c))(Xr||{}),Zr=(c=>(c.BR_CORRIENTE_FISICA="br_corriente_fisica",c.BR_SIMPLE_FISICA="br_simple_fisica",c.BR_CORRIENTE_JURIDICA="br_corriente_juridica",c.BR_POUPANCA_FISICA="br_poupanca_fisica",c.BR_POUPANCA_JURIDICA="br_poupanca_juridica",c.BR_CAIXA_FACIL="br_caixa_facil",c.BR_PIX="br_pix",c))(Zr||{}),eo=(i=>(i.CORRIENTE="corriente",i.VISTA="vista",i.AHORRO="ahorro",i.ELECTRONIC_CHECKBOOK="electronic_checkbook",i))(eo||{}),to=(t=>(t.CORRIENTE="corriente",t.AHORRO="ahorro",t))(to||{}),ro=(t=>(t.CORRIENTE="corriente",t.AHORRO="ahorro",t))(ro||{});var oo=(R=>(R.UNKNOWN="Unknown",R.NEWINPUTACCEPTED="NewInputAccepted",R.NEWINPUTREJECTED="NewInputRejected",R.OTHERREJECTED="OtherRejected",R.EXPIRED="Expired",R.TRADE="Trade",R.SYSTEMCANCELED_NOMOREDMARKET="SystemCanceled_NoMoreMarket",R.SYSTEMCANCELED_BELOWMINIMUM="SystemCanceled_BelowMinimum",R.SYSTEMCANCELED_PRICECOLLAR="SystemCanceled_PriceCollar",R.SYSTEMCANCELED_MARGINFAILED="SystemCanceled_MarginFailed",R.USERMODIFIED="UserModified",R))(oo||{});var io=(n=>(n.AR="AR",n.BR="BR",n.CL="CL",n.PE="PE",n.CO="CO",n))(io||{});var so=(o=>(o.Success="Fee calculated successfully",o.InvalidRequest="Invalid Request",o.AccountOrProductNotFound="Account or Product not found",o))(so||{});var no=(i=>(i.New="New",i.Pending="Pending",i.FullyProcessed="FullyProcessed",i.Error="Error",i))(no||{});var ao=(o=>(o[o.NoChange=0]="NoChange",o[o.Uptick=1]="Uptick",o[o.DownTick=2]="DownTick",o))(ao||{});var co=(m=>(m[m.SERVICE=3]="SERVICE",m[m.PROOF_ADDRESS=30]="PROOF_ADDRESS",m[m.CREDIT_CARD_BILL=35]="CREDIT_CARD_BILL",m[m.SALARY_STATEMENTS=36]="SALARY_STATEMENTS",m[m.NEIGHBOURS_CERTIFICATE=37]="NEIGHBOURS_CERTIFICATE",m[m.NOTARY_ADDRESS_CERTIFICATE=38]="NOTARY_ADDRESS_CERTIFICATE",m[m.PRODUCT_BILL_WITH_PAYMENT_CERTIFICATE=39]="PRODUCT_BILL_WITH_PAYMENT_CERTIFICATE",m[m.SERVICE_WITH_BIRTH=41]="SERVICE_WITH_BIRTH",m[m.SERVICE_WITH_MARRIAGE=40]="SERVICE_WITH_MARRIAGE",m[m.DRIVER_LICENSE_WITH_ADDRESS=42]="DRIVER_LICENSE_WITH_ADDRESS",m))(co||{});var uo=(t=>(t.BASE_PRODUCT="BaseProduct",t.SINGLE_PRODUCT="SingleProduct",t))(uo||{});var lo=(t=>(t[t.WOMAN=0]="WOMAN",t[t.MAN=1]="MAN",t))(lo||{});var mo=(t=>(t.BOTH="BOTH",t.INACTIVE="INACTIVE",t))(mo||{});var po=(t=>(t.UNKNOWN="Unknown",t.STANDARD="Standard",t))(po||{});var So=(o=>(o[o.Unknown=0]="Unknown",o[o.Maker=1]="Maker",o[o.Taker=2]="Taker",o))(So||{});var fo=(a=>(a.NoAccountRiskCheck="NoAccountRiskCheck",a.AddedToBook="AddedToBook",a.RemovedFromBook="RemovedFromBook",a.PostOnly="PostOnly",a.Liquidation="Liquidation",a.ReverseMarginPosition="ReverseMarginPosition",a))(fo||{});var Ro=(t=>(t[t.Buy=0]="Buy",t[t.Sell=1]="Sell",t))(Ro||{});var Eo=(a=>(a.Unknown="Unknown",a.Working="Working",a.Rejected="Rejected",a.Canceled="Canceled",a.Expired="Expired",a.FullyExecuted="Fully Executed",a))(Eo||{});var Ao=(l=>(l[l.Unknown=0]="Unknown",l[l.Market=1]="Market",l[l.Limit=2]="Limit",l[l.StopMarket=3]="StopMarket",l[l.StopLimit=4]="StopLimit",l[l.TrailingStopMarket=5]="TrailingStopMarket",l[l.TrailingStopLimit=6]="TrailingStopLimit",l[l.BlockTrade=7]="BlockTrade",l))(Ao||{}),To=(l=>(l.Unknown="Unknown",l.Market="Market",l.Limit="Limit",l.StopMarket="StopMarket",l.StopLimit="StopLimit",l.TrailingStopMarket="TrailingStopMarket",l.TrailingStopLimit="TrailingStopLimit",l.BlockTrade="BlockTrade",l))(To||{});var Oo=(i=>(i[i.Last=1]="Last",i[i.Bid=2]="Bid",i[i.Ask=3]="Ask",i[i.Midpoint=4]="Midpoint",i))(Oo||{});var ho=(n=>(n.CPF="CPF",n.CNPJ="CNPJ",n.EMAIL="Email",n.PHONE="Phone",n.OTRO="Otro",n))(ho||{});var Io=(i=>(i.UNKNOWN="Unknown",i.NATIONAL_CURRENCY="NationalCurrency",i.CRYPTO_CURRENCY="CryptoCurrency",i.CONTRACT="Contract",i))(Io||{});var _o=(e=>(e.Withdraw="Withdraw",e))(_o||{});var No=(a=>(a.TradeActivity="TradeActivity",a.TransactionActivity="TransactionActivity",a.ProductDelta="ProductDelta",a.ProfitAndLoss="ProfitAndLoss",a.Transaction="Transaction",a.Treasury="Treasury",a))(No||{});var go=(a=>(a.OnDemand="OnDemand",a.Hourly="Hourly",a.Daily="Daily",a.Weekly="Weekly",a.Monthly="Monthly",a.Annually="Annually",a))(go||{});var vo=(R=>(R.Submitted="Submitted",R.Validating="Validating",R.Scheduled="Scheduled",R.InProgress="InProgress",R.Completed="Completed",R.Aborting="Aborting",R.Aborted="Aborted",R.UserCancelled="UserCancelled",R.SysRetired="SysRetired",R.Pending="Pending",R.UserCancelPending="UserCancelPending",R))(vo||{});var Uo=(n=>(n.NotStarted="NotStarted",n.NotComplete="NotComplete",n.ErrorComplete="ErrorComplete",n.SuccessComplete="SuccessComplete",n.Cancelled="Cancelled",n))(Uo||{});var bo=(n=>(n.UNKNOWN="Unknown",n.NORMAL="Normal",n.NO_RISK_CHECK="NoRiskCheck",n.NO_TRADING="NoTrading",n.CREDIT="Credit",n))(bo||{});var Po=(a=>(a.UNKNOWN="Unknown",a.RUNNING="Running",a.PAUSED="Paused",a.STOPPED="Stopped",a.STARTING="Starting",a.RUNNING_POST_ONLY="RunningPostOnly",a))(Po||{});var Do=(t=>(t.BUY="Buy",t.SELL="Sell",t))(Do||{});var xo=(c=>(c[c.Unknown=0]="Unknown",c[c.GTC=1]="GTC",c[c.OPG=2]="OPG",c[c.IOC=3]="IOC",c[c.FOK=4]="FOK",c[c.GTX=5]="GTX",c[c.GTD=6]="GTD",c))(xo||{});var wo=(o=>(o[o.NoChange=0]="NoChange",o[o.Uptick=1]="Uptick",o[o.DownTick=2]="DownTick",o))(wo||{});var Mo=(i=>(i[i.Buy=0]="Buy",i[i.Sell=1]="Sell",i[i.Short=2]="Short",i[i.Unknown=3]="Unknown",i))(Mo||{});var qo=(T=>(T.Trade="Trade",T.Deposit="Deposit",T.Withdraw="Withdraw",T.Transfer="Transfer",T.OrderHold="OrderHold",T.WithdrawHold="WithdrawHold",T.DepositHold="DepositHold",T.MarginHold="MarginHold",T.ManualHold="ManualHold",T.ManualEntry="ManualEntry",T.MarginAcquisition="MarginAcquisition",T.MarginRelinquish="MarginRelinquish",T.MarginInterestNetting="MarginInterestNetting",T.MarginOperatorTransferToMarginAccount="MarginOperatorTransferToMarginAccount",T.MarginOperatorTransferToAssetAccount="MarginOperatorTransferToAssetAccount",T.MarginUserTransfer="MarginUserTransfer",T.MarginPositionReverseTrade="MarginPositionReverseTrade",T.AffiliateRebate="AffiliateRebate",T.DistributionEntry="DistributionEntry",T.TransferHold="TransferHold",T.AirDrop="AirDrop",T))(qo||{});var Co=(T=>(T.Fee="Fee",T.Trade="Trade",T.Other="Other",T.Reverse="Reverse",T.Hold="Hold",T.Rebate="Rebate",T.MarginAcquisition="MarginAcquisition",T.MarginRelinquishByTrade="MarginRelinquishByTrade",T.MarginInterestTransfer="MarginInterestTransfer",T.MarginOperatorTransferToMarginAccount="MarginOperatorTransferToMarginAccount",T.MarginOperatorTransferToAssetAccount="MarginOperatorTransferToAssetAccount",T.MarginUserTransfer="MarginUserTransfer",T.MarginRelinquishByTransfer="MarginRelinquishByTransfer",T.MarginRelinquishByReverseTrade="MarginRelinquishByReverseTrade",T.Distribution="Distribution",T.Payment="Payment",T.OperatorLend="OperatorLend",T.OperatorReceived="OperatorReceived",T.Rebalance="Rebalance",T.Commission="Commission",T.AirDrop="AirDrop",T))(Co||{});var yo=(a=>(a[a.SUCCESS=0]="SUCCESS",a[a.NOT_AUTHORIZED=20]="NOT_AUTHORIZED",a[a.INVALID_REQUEST=100]="INVALID_REQUEST",a[a.OPERATION_FAILED=101]="OPERATION_FAILED",a[a.SERVER_ERROR=102]="SERVER_ERROR",a[a.RESOURCE_NOT_FOUND=104]="RESOURCE_NOT_FOUND",a))(yo||{});var Fo=(n=>(n[n.NotAuthorized=20]="NotAuthorized",n[n.InvalidRequest=100]="InvalidRequest",n[n.OperationFailed=101]="OperationFailed",n[n.ServerError=102]="ServerError",n[n.ResourceNotFound=104]="ResourceNotFound",n))(Fo||{});var Lo=(a=>(a[a.NoError=0]="NoError",a[a.NotAuthorized=20]="NotAuthorized",a[a.InvalidRequest=100]="InvalidRequest",a[a.OperationFailed=101]="OperationFailed",a[a.ServerError=102]="ServerError",a[a.ResourceNotFound=104]="ResourceNotFound",a))(Lo||{});var Go=(o=>(o.Success="Fee calculated successfully",o.InvalidRequest="Invalid Request",o.AccountOrProductNotFound="Account or Product not found",o))(Go||{});var ko=(o=>(o.ToExternalBitcoinAddress="ToExternalBitcoinAddress",o.ToInternalAccount="ToInternalAccount",o.ToBankAccount="ToBankAccount",o))(ko||{});var Ho=(t=>(t[t.STABLE=0]="STABLE",t[t.VARIABLE=1]="VARIABLE",t))(Ho||{});var Bo=(I=>(I[I.BUENOS_AIRES=1]="BUENOS_AIRES",I[I.CATAMARCA=10]="CATAMARCA",I[I.CHACO=14]="CHACO",I[I.CHUBUT=20]="CHUBUT",I[I.CIUDAD_AUTONOMA_DE_BUENOS_AIRES=43]="CIUDAD_AUTONOMA_DE_BUENOS_AIRES",I[I.CORDOBA=3]="CORDOBA",I[I.CORRIENTES=15]="CORRIENTES",I[I.ENTRE_RIOS=5]="ENTRE_RIOS",I[I.FORMOSA=13]="FORMOSA",I[I.JUJUY=11]="JUJUY",I[I.LA_PAMPA=18]="LA_PAMPA",I[I.LA_RIOJA=9]="LA_RIOJA",I[I.MENDOZA=4]="MENDOZA",I[I.MISIONES=16]="MISIONES",I[I.NEUQUEN=19]="NEUQUEN",I[I.RIO_NEGRO=21]="RIO_NEGRO",I[I.SALTA=12]="SALTA",I[I.SAN_JUAN=7]="SAN_JUAN",I[I.SAN_LUIS=8]="SAN_LUIS",I[I.SANTA_CRUZ=22]="SANTA_CRUZ",I[I.SANTA_FE=2]="SANTA_FE",I[I.SANTIAGO_DEL_ESTERO=6]="SANTIAGO_DEL_ESTERO",I[I.TIERRA_DEL_FUEGO_Y_ANTARTIDA_E_ISLAS_DEL_ATLANTICO_SUR=23]="TIERRA_DEL_FUEGO_Y_ANTARTIDA_E_ISLAS_DEL_ATLANTICO_SUR",I[I.TUCUMAN=17]="TUCUMAN",I))(Bo||{});var Vo=(s=>(s.ARICA="Arica",s.CAMARONES="Camarones",s.GENERAL_LAGOS="General Lagos",s.PUTRE="Putre",s.ALTO_HOSPICIO="Alto Hospicio",s.CAMI\u00D1A="Cami\xF1a",s.COLCHANE="Colchane",s.HUARA="Huara",s.IQUIQUE="Iquique",s.PICA="Pica",s.POZOALMONTE="Pozo Almonte",s.ANTOFAGASTA="Antofagasta",s.CALAMA="Calama",s.MARIA_ELENA="Mar\xEDa Elena",s.MEJILLONES="Mejillones",s.OLLAG\u00DCE="Ollag\xFCe",s.SAN_PEDRO_DE_ATACAMA="San Pedro de Atacama",s.SIERRA_GORDA="Sierra Gorda",s.TALTAL="Taltal",s.TOCOPILLA="Tocopilla",s.ALTO_DEL_CARMEN="Alto del Carmen",s.CALDERA="Caldera",s.CHA\u00D1ARAL="Cha\xF1aral",s.COPIAPO="Copiap\xF3",s.DIEGO_DE_ALMAGRO="Diego de Almagro",s.FREIRINA="Freirina",s.HUASCO="Huasco",s.TIERRA_AMARILLA="Tierra Amarilla",s.VALLENAR="Vallenar",s.ANDACOLLO="Andacollo",s.CANELA="Canela",s.COMBARBALA="Combarbal\xE1",s.COQUIMBO="Coquimbo",s.ILLAPEL="Illapel",s.LA_HIGUERA="La Higuera",s.LA_SERENA="La Serena",s.LOS_VILOS="Los Vilos",s.MONTE_PATRIA="Monte Patria",s.OVALLE="Ovalle",s.PAIGUANO="Paiguano",s.PUNITAQUI="Punitaqui",s.RIO_HURTADO="R\xEDo Hurtado",s.SALAMANCA="Salamanca",s.VICU\u00D1A="Vicu\xF1a",s.ALGARROBO="Algarrobo",s.CABILDO="Cabildo",s.CALERA="Calera",s.CALLE_LARGA="Calle Larga",s.CARTAGENA="Cartagena",s.CASABLANCA="Casablanca",s.CATEMU="Catemu",s.CONCON="Conc\xF3n",s.EL_QUISCO="El Quisco",s.EL_TABO="El Tabo",s.HIJUELAS="Hijuelas",s.ISLA_DE_PASCUA="Isla de Pascua",s.JUAN_FERNANDEZ="Juan Fern\xE1ndez",s.LA_CRUZ="La Cruz",s.LA_LIGUA="La Ligua",s.LIMACHE="Limache",s.LLAILLAY="Llaillay",s.LOS_ANDES="Los Andes",s.NOGALES="Nogales",s.OLMUE="Olmu\xE9",s.PANQUEHUE="Panquehue",s.PAPUDO="Papudo",s.PETORCA="Petorca",s.PUCHUNCAVI="Puchuncav\xED",s.PUTAENDO="Putaendo",s.QUILLOTA="Quillota",s.QUILPUE="Quilpu\xE9",s.QUINTERO="Quintero",s.RINCONADA="Rinconada",s.SAN_ANTONIO="San Antonio",s.SAN_ESTEBAN="San Esteban",s.SAN_FELIPE="San Felipe",s.SANTA_MARIA="Santa Mar\xEDa",s.SANTO_DOMINGO="Santo Domingo",s.VALPARAISO="Valpara\xEDso",s.VILLA_ALEMANA="Villa Alemana",s.VI\u00D1A_DEL_MAR="Vi\xF1a del Mar",s.ZAPALLAR="Zapallar",s.ALHUE="Alhu\xE9",s.BUIN="Buin",s.CALERA_DE_TANGO="Calera de Tango",s.CERRILLOS="Cerrillos",s.CERRO_NAVIA="Cerro Navia",s.COLINA="Colina",s.CONCHALI="Conchal\xED",s.CURACAVI="Curacav\xED",s.EL_BOSQUE="El Bosque",s.EL_MONTE="El Monte",s.ESTACION_CENTRAL="Estaci\xF3n Central",s.HUECHURABA="Huechuraba",s.INDEPENDENCIA="Independencia",s.ISLA_DE_MAIPO="Isla de Maipo",s.LA_CISTERNA="La Cisterna",s.LA_FLORIDA="La Florida",s.LA_GRANJA="La Granja",s.LA_PINTANA="La Pintana",s.LA_REINA="La Reina",s.LAMPA="Lampa",s.LAS_CONDES="Las Condes",s.LO_BARNECHEA="Lo Barnechea",s.LO_ESPEJO="Lo Espejo",s.LO_PRADO="Lo Prado",s.MACUL="Macul",s.MAIPU="Maip\xFA",s.MARIA_PINTO="Mar\xEDa Pinto",s.MELIPILLA="Melipilla",s.\u00D1U\u00D1OA="\xD1u\xF1oa",s.PADRE_HURTADO="Padre Hurtado",s.PAINE="Paine",s.PEDRO_AGUIRRE_CERDA="Pedro Aguirre Cerda",s.PE\u00D1AFLOR="Pe\xF1aflor",s.PE\u00D1ALOLEN="Pe\xF1alol\xE9n",s.PIRQUE="Pirque",s.PROVIDENCIA="Providencia",s.PUDAHUEL="Pudahuel",s.PUENTE_ALTO="Puente Alto",s.QUILICURA="Quilicura",s.QUINTA_NORMAL="Quinta Normal",s.RECOLETA="Recoleta",s.RENCA="Renca",s.SAN_BERNARDO="San Bernardo",s.SAN_JOAQUIN="San Joaqu\xEDn",s.SAN_JOSE_DE_MAIPO="San Jos\xE9 de Maipo",s.SAN_MIGUEL="San Miguel",s.SAN_PEDRO="San Pedro",s.SAN_RAMON="San Ram\xF3n",s.SANTIAGO="Santiago",s.TALAGANTE="Talagante",s.TILTIL="Tiltil",s.VITACURA="Vitacura",s.CHIMBARONGO="Chimbarongo",s.CH\u00C9PICA="Ch\xE9pica",s.CODEGUA="Codegua",s.COINCO="Coinco",s.COLTAUCO="Coltauco",s.DO\u00D1IHUE="Do\xF1ihue",s.GRANEROS="Graneros",s.LA_ESTRELLA="La Estrella",s.LAS_CABRAS="Las Cabras",s.LITUECHE="Litueche",s.LOLOL="Lolol",s.MACHALI="Machal\xED",s.MALLOA="Malloa",s.MARCHIHUE="Marchihue",s.NANCAGUA="Nancagua",s.NAVIDAD="Navidad",s.OLIVAR="Olivar",s.PALMILLA="Palmilla",s.PAREDONES="Paredones",s.PERALILLO="Peralillo",s.PEUMO="Peumo",s.PICHIDEGUA="Pichidegua",s.PICHILEMU="Pichilemu",s.PLACILLA="Placilla",s.PUMANQUE="Pumanque",s.QUINTA_DE_TILCOCO="Quinta de Tilcoco",s.RANCAGUA="Rancagua",s.RENGO="Rengo",s.REQUINOA="Requ\xEDnoa",s.SAN_FERNANDO="San Fernando",s.SAN_FRANCISCO_DE_MOSTAZAL="San Francisco de Mostazal",s.SAN_VICENTE_DE_TAGUA_TAGUA="San Vicente de Tagua Tagua",s.SANTA_CRUZ="Santa Cruz",s.CAUQUENES="Cauquenes",s.CHANCO="Chanco",s.COLBUN="Colb\xFAn",s.CONSTITUCION="Constituci\xF3n",s.CUREPTO="Curepto",s.CURICO="Curic\xF3",s.EMPEDRADO="Empedrado",s.HUALA\u00D1E="Huala\xF1\xE9",s.LICANTEN="Licant\xE9n",s.LINARES="Linares",s.LONGAVI="Longav\xED",s.MAULE="Maule",s.MOLINA="Molina",s.PARRAL="Parral",s.PELARCO="Pelarco",s.PELLUHUE="Pelluhue",s.PENCAHUE="Pencahue",s.RAUCO="Rauco",s.RETIRO="Retiro",s.ROMERAL="Romeral",s.RIO_CLARO="R\xEDo Claro",s.SAGRADA_FAMILIA="Sagrada Familia",s.SAN_CLEMENTE="San Clemente",s.SAN_JAVIER_DE_LONCOMILLA="San Javier de Loncomilla",s.SAN_RAFAEL="San Rafael",s.TALCA="Talca",s.TENO="Teno",s.VICHUQUEN="Vichuqu\xE9n",s.VILLA_ALEGRE="Villa Alegre",s.YERBAS_BUENAS="Yerbas Buenas",s.BULNES="Bulnes",s.CHILLAN_VIEJO="Chill\xE1n Viejo",s.CHILLAN="Chill\xE1n",s.COBQUECURA="Cobquecura",s.COELEMU="Coelemu",s.COIHUECO="Coihueco",s.EL_CARMEN="El Carmen",s.NINHUE="Ninhue",s.\u00D1IQUEN="\xD1iqu\xE9n",s.PEMUCO="Pemuco",s.PINTO="Pinto",s.PORTEZUELO="Portezuelo",s.QUILLON="Quill\xF3n",s.QUIRIHUE="Quirihue",s.RANQUIL="R\xE1nquil",s.SAN_CARLOS="San Carlos",s.SAN_FABIAN="San Fabi\xE1n",s.SAN_IGNACIO="San Ignacio",s.SAN_NICOLAS="San Nicol\xE1s",s.TREGUACO="Treguaco",s.YUNGAY="Yungay",s.ALTO_BIOBIO="Alto Biob\xEDo",s.ANTUCO="Antuco",s.ARAUCO="Arauco",s.CABRERO="Cabrero",s.CA\u00D1ETE="Ca\xF1ete",s.CHIGUAYANTE="Chiguayante",s.CONCEPCION="Concepci\xF3n",s.CONTULMO="Contulmo",s.CORONEL="Coronel",s.CURANILAHUE="Curanilahue",s.FLORIDA="Florida",s.HUALPEN="Hualp\xE9n",s.HUALQUI="Hualqui",s.LAJA="Laja",s.LEBU="Lebu",s.LOS_ALAMOS="Los \xC1lamos",s.LOS_ANGELES="Los \xC1ngeles",s.LOTA="Lota",s.MULCHEN="Mulch\xE9n",s.NACIMIENTO="Nacimiento",s.NEGRETE="Negrete",s.PENCO="Penco",s.QUILACO="Quilaco",s.QUILLECO="Quilleco",s.SAN_PEDRO_DE_LA_PAZ="San Pedro de la Paz",s.SAN_ROSENDO="San Rosendo",s.SANTA_BARBARA="Santa B\xE1rbara",s.SANTA_JUANA="Santa Juana",s.TALCAHUANO="Talcahuano",s.TIRUA="Tir\xFAa",s.TOME="Tom\xE9",s.TUCAPEL="Tucapel",s.YUMBEL="Yumbel",s.ANGOL="Angol",s.CARAHUE="Carahue",s.CHOLCHOL="Cholchol",s.COLLIPULLI="Collipulli",s.CUNCO="Cunco",s.CURACAUTIN="Curacaut\xEDn",s.CURARREHUE="Curarrehue",s.ERCILLA="Ercilla",s.FREIRE="Freire",s.GALVARINO="Galvarino",s.GORBEA="Gorbea",s.LAUTARO="Lautaro",s.LONCOCHE="Loncoche",s.LONQUIMAY="Lonquimay",s.LOS_SAUCES="Los Sauces",s.LUMACO="Lumaco",s.MELIPEUCO="Melipeuco",s.NUEVA_IMPERIAL="Nueva Imperial",s.PADRE_LAS_CASAS="Padre las Casas",s.PERQUENCO="Perquenco",s.PITRUFQUEN="Pitrufqu\xE9n",s.PUC\u00D3N="Puc\xF3n",s.PUREN="Pur\xE9n",s.RENAICO="Renaico",s.SAAVEDRA="Saavedra",s.TEMUCO="Temuco",s.TEODORO_SCHMIDT="Teodoro Schmidt",s.TOLTEN="Tolt\xE9n",s.TRAIGUEN="Traigu\xE9n",s.VICTORIA="Victoria",s.VILCUN="Vilc\xFAn",s.VILLARRICA="Villarrica",s.CORRAL="Corral",s.FUTRONO="Futrono",s.LA_UNION="La Uni\xF3n",s.LAGO_RANCO="Lago Ranco",s.LANCO="Lanco",s.LOS_LAGOS="Los Lagos",s.MARIQUINA="Mariquina",s.MAFIL="M\xE1fil",s.PAILLACO="Paillaco",s.PANGUIPULLI="Panguipulli",s.RIO_BUENO="R\xEDo Bueno",s.VALDIVIA="Valdivia",s.ANCUD="Ancud",s.CALBUCO="Calbuco",s.CASTRO="Castro",s.CHAITEN="Chait\xE9n",s.CHONCHI="Chonchi",s.COCHAMO="Cocham\xF3",s.CURACO_DE_VELEZ="Curaco de V\xE9lez",s.DALCAHUE="Dalcahue",s.FRESIA="Fresia",s.FRUTILLAR="Frutillar",s.FUTALEUFU="Futaleuf\xFA",s.HUALAIHUE="Hualaihu\xE9",s.LLANQUIHUE="Llanquihue",s.LOS_MUERMOS="Los Muermos",s.MAULLIN="Maull\xEDn",s.OSORNO="Osorno",s.PALENA="Palena",s.PUERTO_MONTT="Puerto Montt",s.PUERTO_OCTAY="Puerto Octay",s.PUERTO_VARAS="Puerto Varas",s.PUQUELDON="Puqueld\xF3n",s.PURRANQUE="Purranque",s.PUYEHUE="Puyehue",s.QUEILEN="Queil\xE9n",s.QUELLON="Quell\xF3n",s.QUEMCHI="Quemchi",s.QUINCHAO="Quinchao",s.RIO_NEGRO="R\xEDo Negro",s.SAN_JUAN_DE_LA_COSTA="San Juan de la Costa",s.SAN_PABLO="San Pablo",s.AIS\u00C9N="Ais\xE9n",s.CHILE_CHICO="Chile Chico",s.CISNES="Cisnes",s.COCHRANE="Cochrane",s.COIHAIQUE="Coihaique",s.GUAITECAS="Guaitecas",s.LAGO_VERDE="Lago Verde",s.O_HIGGINS="O\u2019Higgins",s.RIO_IBA\u00D1EZ="R\xEDo Ib\xE1\xF1ez",s.TORTEL="Tortel",s.ANTARTICA="Ant\xE1rtica",s.CABO_DE_HORNOS_EX_NAVARINO="Cabo de Hornos (Ex Navarino)",s.LAGUNA_BLANCA="Laguna Blanca",s.NATALES="Natales",s.PORVENIR="Porvenir",s.PRIMAVERA="Primavera",s.PUNTA_ARENAS="Punta Arenas",s.RIO_VERDE="R\xEDo Verde",s.SAN_GREGORIO="San Gregorio",s.TIMAUKEL="Timaukel",s.TORRES_DEL_PAIN="Torres del Paine",s))(Vo||{});var Wo=(P=>(P.RONDONIA="RO",P.ACRE="AC",P.AMAZONAS="AM",P.RORAIMA="RR",P.PARA="PA",P.AMAPA="AP",P.TOCANTINS="TO",P.MARANHAO="MA",P.PIAUI="PI",P.CEARA="CE",P.RIO_GRANDE_DO_NORTE="RN",P.PARAIBA="PB",P.PERNAMBUCO="PE",P.ALAGOAS="AL",P.SERGIPE="SE",P.BAHIA="BA",P.MINAS_GERAIS="MG",P.ESP\u00CDRITO_SANTO="ES",P.RIO_DE_JANEIRO="RJ",P.SAO_PAULO="SP",P.PARANA="PR",P.SANTA_CATARINA="SC",P.RIO_GRANDE_DO_SUL="RS",P.MATO_GROSSO_DO_SUL="MS",P.MATO_GROSSO="MT",P.GOIAS="GO",P.DISTRITO_FEDERAL="DF",P))(Wo||{});var Qo=(S=>(S.TRADER="trader",S.INVESTOR="investor",S.STUDENT="student",S.HOUSEWIFE="housewife",S.ACCOUNTANT="accountant",S.ACTOR_ACTRESS="actor_actress",S.AIR_HOSTESS="air_hostess",S.ARCHAEOLOGIST="archaeologist",S.ARCHITECT="architect",S.ASTRONAUT="astronaut",S.BAKER="baker",S.BIOLOGIST="biologist",S.BRICKLAYER="bricklayer",S.DRIVER="driver",S.BUSINESSMAN="businessman",S.BUTCHER="butcher",S.CARETAKER_JANITOR_PORTER="caretaker_janitor_porter",S.CARPENTER="carpenter",S.CASHIER="cashier",S.CLEANER="cleaner",S.CLOWN="clown",S.COBBLER="cobbler",S.COOK_CHEF="cook_chef",S.CHEMIST="chemist",S.DANCER="dancer",S.DECORATOR="decorator",S.DENTIST="dentist",S.DESIGNER="designer",S.PHYSICIAN="physician",S.DRESSMAKER="dressmaker",S.DUSTMAN="dustman",S.ECONOMIST="economist",S.ELECTRICIAN="electrician",S.ENGINEER="engineer",S.FARMER="farmer",S.FIREMAN="fireman",S.FISHERMAN="fisherman",S.FLORIST="florist",S.FRUITERER="fruiterer",S.GARDENER="gardener",S.GEOLOGIST="geologist",S.HAIRDRESSER="hairdresser",S.JEWELLER="jeweller",S.JOURNALIST="journalist",S.JUDGE="judge",S.LAWYER="lawyer",S.LIBRARIAN="librarian",S.LIFE_GUARD="life_guard",S.MAILMAN_POSTMAN="mailman_postman",S.MECHANIC="mechanic",S.METEOROLOGIST="meteorologist",S.CRYPTOCURRENCY_MINER="cryptocurrency_miner",S.MINERAL_MINER="mineral_miner",S.MODEL="model",S.NANNY_NURSEMAID="nanny_nursemaid",S.NUN="nun",S.NURSE="nurse",S.PAINTER="painter",S.PASTRY_COOK="pastry_cook",S.PHARMACIST="pharmacist",S.PHOTOGRAPHER="photographer",S.PHYSICIST="physicist",S.PLUMBER="plumber",S.POLICEMAN_POLICEWOMAN="policeman_policewoman",S.POLITICIAN="politician",S.PRIEST="priest",S.PROFESSOR_TEACHER="professor_teacher",S.PROGRAMMER="programmer",S.PSYCHIATRIST="psychiatrist",S.PSYCHOLOGIST="psychologist",S.RECEPTIONIST="receptionist",S.RESEARCHER_SCIENTIST="researcher_scientist",S.SAILOR="sailor",S.SALESMAN="salesman",S.SECRETARY="secretary",S.SHOP_ASSISTANT="shop_assistant",S.SINGER="singer",S.SOCIAL_WORKER="social_worker",S.SPORTSMAN="sportsman",S.SURGEON="surgeon",S.TAXI_DRIVER="taxi_driver",S.TELEPHONE_OPERATOR="telephone_operator",S.TRAVEL_AGENT="travel_agent",S.VETERINARIAN="veterinarian",S.WAITER_WAITRESS="waiter_waitress",S.WRITER="writer",S.DELIVERYMAN="deliveryman",S.UBER_DRIVER="uber_driver",S.PILOT="pilot",S.ADMINISTRATIVE="administrative",S.PUBLIC_SERVANT="public_servant",S.OTHER="other",S.CUSTOMER_CARE="customer_care",S.MILITARY="military",S.MANAGER_OFFICIER="manager_officier",S))(Qo||{});var Yo=(O=>(O[O.OTHER=0]="OTHER",O[O.DEPOSIT=1]="DEPOSIT",O[O.WITHDRAW=2]="WITHDRAW",O[O.TRANSFER=3]="TRANSFER",O[O.TRADE=4]="TRADE",O[O.PAYMENT=5]="PAYMENT",O[O.RECTIFICATION=6]="RECTIFICATION",O[O.FEE=7]="FEE",O[O.REVERSE=8]="REVERSE",O[O.HOLD=9]="HOLD",O[O.MARGIN=10]="MARGIN",O[O.AIRDROP=11]="AIRDROP",O[O.DISTRIBUTION=12]="DISTRIBUTION",O))(Yo||{});var Jo=(h=>(h[h.OTHER=0]="OTHER",h[h.PAYOUT=1]="PAYOUT",h[h.PAYIN=2]="PAYIN",h[h.DEPOSIT=3]="DEPOSIT",h[h.WITHDRAW=4]="WITHDRAW",h[h.BANK_TO_EXCHANGE=5]="BANK_TO_EXCHANGE",h[h.EXCHANGE_TO_BANK=6]="EXCHANGE_TO_BANK",h[h.TRADE=7]="TRADE",h[h.PAYMENT=8]="PAYMENT",h[h.SIMPLE=9]="SIMPLE",h[h.RECTIFICATION=10]="RECTIFICATION",h[h.TRANSFER=11]="TRANSFER",h[h.HOLD=12]="HOLD",h[h.MARGIN=13]="MARGIN",h[h.AIRDROP=14]="AIRDROP",h[h.ORDER=15]="ORDER",h[h.DISTRIBUTION_ENTRY=16]="DISTRIBUTION_ENTRY",h))(Jo||{});var jo=(t=>(t.Flat="Flat",t.Percentage="Percentage",t))(jo||{}),Ko=(n=>(n.Flat="Flat",n.MakerFee="MakerFee",n.TakerFee="TakerFee",n.PeggedProductFee="PeggedProductFee",n.AffiliateFee="AffiliateFee",n))(Ko||{});function ar(r){return{timestamp:r.timestamp,bids:r.bids.map(e=>({quantity:e[0],price:e[1]})),asks:r.asks.map(e=>({quantity:e[0],price:e[1]}))}}var cr=class{};var Qe=class Qe extends Error{constructor(e,t){super("Notbank Error. "+e),this.code=t}};Qe.Factory=class{static createFromApResponse(t){var o="";return t.errorcode&&(o+=`(code=${t.errorcode})`),t.errormsg&&(o+=" "+t.errormsg+"."),t.detail&&(o+=" "+t.detail+"."),new Qe(o,t.errorcode||t.statusCode)}static createFromNbResponse(t,o){var i=`(http status=${o}) `;return t.status&&(i+=`(status=${t.status}) `),t.code&&(i+=`(code=${t.code}) `),t.message&&(i+=t.message,t.message.endsWith(".")||(i+=".")),t.detail&&(i+=" "+t.detail,t.detail.endsWith(".")||(i+=".")),new Qe(i,-1)}};var q=Qe;var ur=class{};var lr=class{};var zo=jr(ns("crypto"),1);function us(r){return Math.floor(Math.random()*r)}function pt(){return us(1e6).toString()}function St(r,e,t,o){var i=o+t+r;let n=zo.default.createHmac("sha256",e);return n.update(i),n.digest("hex")}var $o=(l=>(l[l.UNDEFINED=-1]="UNDEFINED",l[l.NOT_AN_ERROR=0]="NOT_AN_ERROR",l[l.NOT_AUTHORIZED=20]="NOT_AUTHORIZED",l[l.INVALID_RESPONSE=100]="INVALID_RESPONSE",l[l.OPERATION_FAILED=101]="OPERATION_FAILED",l[l.SERVER_ERROR=102]="SERVER_ERROR",l[l.RESOURCE_NOT_FOUND=104]="RESOURCE_NOT_FOUND",l[l.OPERATION_IN_PROCESS=107]="OPERATION_IN_PROCESS",l))($o||{}),ft=$o;var Et,Xo,dt=class dt{static handle(e){return E(this,null,function*(){var i;if(e.status>=300||e.status<200)throw new Error(`http error (${e.status}) not a successfull response. ${yield e.data}`);var t=g(i=dt,Et,Xo).call(i,e);if(!t)throw new q("http error. (status="+e.status+")",-1);var o=t;if((o==null?void 0:o.result)===!1&&(o==null?void 0:o.errorcode)!=null&&!(o.errorcode==ft.OPERATION_IN_PROCESS&&o.errormsg==="Operation In Process"))throw q.Factory.createFromApResponse(o);return t})}};Et=new WeakSet,Xo=function(e){try{return e.data}catch(t){return null}},M(dt,Et);var Rt=dt;var ls=function(){return typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:window}(),{FormData:Zo,Blob:ap,File:cp}=ls;var At=class{static build(e){let t=new Zo;return e.fields.map(([o,i])=>{typeof i=="string"?t.append(o,i):t.append(o,JSON.stringify(i))}),e.files.map(([o,i])=>t.append(o,i)),Object.keys(e.message).map(o=>{t.append(o,e.message[o])}),t}};function Ye(r,e){return function(){return r.apply(e,arguments)}}var{toString:ms}=Object.prototype,{getPrototypeOf:Sr}=Object,{iterator:Ot,toStringTag:ti}=Symbol,ht=(r=>e=>{let t=ms.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),J=r=>(r=r.toLowerCase(),e=>ht(e)===r),It=r=>e=>typeof e===r,{isArray:Te}=Array,Ae=It("undefined");function Je(r){return r!==null&&!Ae(r)&&r.constructor!==null&&!Ae(r.constructor)&&B(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}var ri=J("ArrayBuffer");function ps(r){let e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&ri(r.buffer),e}var Ss=It("string"),B=It("function"),oi=It("number"),je=r=>r!==null&&typeof r=="object",fs=r=>r===!0||r===!1,Tt=r=>{if(ht(r)!=="object")return!1;let e=Sr(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ti in r)&&!(Ot in r)},Rs=r=>{if(!je(r)||Je(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch(e){return!1}},Es=J("Date"),ds=J("File"),As=J("Blob"),Ts=J("FileList"),Os=r=>je(r)&&B(r.pipe),hs=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||B(r.append)&&((e=ht(r))==="formdata"||e==="object"&&B(r.toString)&&r.toString()==="[object FormData]"))},Is=J("URLSearchParams"),[_s,Ns,gs,vs]=["ReadableStream","Request","Response","Headers"].map(J),Us=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ke(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r=="undefined")return;let o,i;if(typeof r!="object"&&(r=[r]),Te(r))for(o=0,i=r.length;o<i;o++)e.call(null,r[o],o,r);else{if(Je(r))return;let n=t?Object.getOwnPropertyNames(r):Object.keys(r),a=n.length,c;for(o=0;o<a;o++)c=n[o],e.call(null,r[c],c,r)}}function ii(r,e){if(Je(r))return null;e=e.toLowerCase();let t=Object.keys(r),o=t.length,i;for(;o-- >0;)if(i=t[o],e===i.toLowerCase())return i;return null}var ue=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,si=r=>!Ae(r)&&r!==ue;function pr(){let{caseless:r,skipUndefined:e}=si(this)&&this||{},t={},o=(i,n)=>{let a=r&&ii(t,n)||n;Tt(t[a])&&Tt(i)?t[a]=pr(t[a],i):Tt(i)?t[a]=pr({},i):Te(i)?t[a]=i.slice():(!e||!Ae(i))&&(t[a]=i)};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&Ke(arguments[i],o);return t}var bs=(r,e,t,{allOwnKeys:o}={})=>(Ke(e,(i,n)=>{t&&B(i)?r[n]=Ye(i,t):r[n]=i},{allOwnKeys:o}),r),Ps=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Ds=(r,e,t,o)=>{r.prototype=Object.create(e.prototype,o),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},xs=(r,e,t,o)=>{let i,n,a,c={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),n=i.length;n-- >0;)a=i[n],(!o||o(a,r,e))&&!c[a]&&(e[a]=r[a],c[a]=!0);r=t!==!1&&Sr(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},ws=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;let o=r.indexOf(e,t);return o!==-1&&o===t},Ms=r=>{if(!r)return null;if(Te(r))return r;let e=r.length;if(!oi(e))return null;let t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},qs=(r=>e=>r&&e instanceof r)(typeof Uint8Array!="undefined"&&Sr(Uint8Array)),Cs=(r,e)=>{let o=(r&&r[Ot]).call(r),i;for(;(i=o.next())&&!i.done;){let n=i.value;e.call(r,n[0],n[1])}},ys=(r,e)=>{let t,o=[];for(;(t=r.exec(e))!==null;)o.push(t);return o},Fs=J("HTMLFormElement"),Ls=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,o,i){return o.toUpperCase()+i}),ei=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Gs=J("RegExp"),ni=(r,e)=>{let t=Object.getOwnPropertyDescriptors(r),o={};Ke(t,(i,n)=>{let a;(a=e(i,n,r))!==!1&&(o[n]=a||i)}),Object.defineProperties(r,o)},ks=r=>{ni(r,(e,t)=>{if(B(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;let o=r[t];if(B(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Hs=(r,e)=>{let t={},o=i=>{i.forEach(n=>{t[n]=!0})};return Te(r)?o(r):o(String(r).split(e)),t},Bs=()=>{},Vs=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Ws(r){return!!(r&&B(r.append)&&r[ti]==="FormData"&&r[Ot])}var Qs=r=>{let e=new Array(10),t=(o,i)=>{if(je(o)){if(e.indexOf(o)>=0)return;if(Je(o))return o;if(!("toJSON"in o)){e[i]=o;let n=Te(o)?[]:{};return Ke(o,(a,c)=>{let l=t(a,i+1);!Ae(l)&&(n[c]=l)}),e[i]=void 0,n}}return o};return t(r,0)},Ys=J("AsyncFunction"),Js=r=>r&&(je(r)||B(r))&&B(r.then)&&B(r.catch),ai=((r,e)=>r?setImmediate:e?((t,o)=>(ue.addEventListener("message",({source:i,data:n})=>{i===ue&&n===t&&o.length&&o.shift()()},!1),i=>{o.push(i),ue.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",B(ue.postMessage)),js=typeof queueMicrotask!="undefined"?queueMicrotask.bind(ue):typeof process!="undefined"&&process.nextTick||ai,Ks=r=>r!=null&&B(r[Ot]),u={isArray:Te,isArrayBuffer:ri,isBuffer:Je,isFormData:hs,isArrayBufferView:ps,isString:Ss,isNumber:oi,isBoolean:fs,isObject:je,isPlainObject:Tt,isEmptyObject:Rs,isReadableStream:_s,isRequest:Ns,isResponse:gs,isHeaders:vs,isUndefined:Ae,isDate:Es,isFile:ds,isBlob:As,isRegExp:Gs,isFunction:B,isStream:Os,isURLSearchParams:Is,isTypedArray:qs,isFileList:Ts,forEach:Ke,merge:pr,extend:bs,trim:Us,stripBOM:Ps,inherits:Ds,toFlatObject:xs,kindOf:ht,kindOfTest:J,endsWith:ws,toArray:Ms,forEachEntry:Cs,matchAll:ys,isHTMLForm:Fs,hasOwnProperty:ei,hasOwnProp:ei,reduceDescriptors:ni,freezeMethods:ks,toObjectSet:Hs,toCamelCase:Ls,noop:Bs,toFiniteNumber:Vs,findKey:ii,global:ue,isContextDefined:si,isSpecCompliantForm:Ws,toJSONObject:Qs,isAsyncFn:Ys,isThenable:Js,setImmediate:ai,asap:js,isIterable:Ks};function Oe(r,e,t,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}u.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:u.toJSONObject(this.config),code:this.code,status:this.status}}});var ci=Oe.prototype,ui={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{ui[r]={value:r}});Object.defineProperties(Oe,ui);Object.defineProperty(ci,"isAxiosError",{value:!0});Oe.from=(r,e,t,o,i,n)=>{let a=Object.create(ci);u.toFlatObject(r,a,function(m){return m!==Error.prototype},p=>p!=="isAxiosError");let c=r&&r.message?r.message:"Error",l=e==null&&r?r.code:e;return Oe.call(a,c,l,t,o,i),r&&a.cause==null&&Object.defineProperty(a,"cause",{value:r,configurable:!0}),a.name=r&&r.name||"Error",n&&Object.assign(a,n),a};var N=Oe;var _t=null;function fr(r){return u.isPlainObject(r)||u.isArray(r)}function mi(r){return u.endsWith(r,"[]")?r.slice(0,-2):r}function li(r,e,t){return r?r.concat(e).map(function(i,n){return i=mi(i),!t&&n?"["+i+"]":i}).join(t?".":""):e}function zs(r){return u.isArray(r)&&!r.some(fr)}var $s=u.toFlatObject(u,{},null,function(e){return/^is[A-Z]/.test(e)});function Xs(r,e,t){if(!u.isObject(r))throw new TypeError("target must be an object");e=e||new(_t||FormData),t=u.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,A){return!u.isUndefined(A[_])});let o=t.metaTokens,i=t.visitor||m,n=t.dots,a=t.indexes,l=(t.Blob||typeof Blob!="undefined"&&Blob)&&u.isSpecCompliantForm(e);if(!u.isFunction(i))throw new TypeError("visitor must be a function");function p(f){if(f===null)return"";if(u.isDate(f))return f.toISOString();if(u.isBoolean(f))return f.toString();if(!l&&u.isBlob(f))throw new N("Blob is not supported. Use a Buffer instead.");return u.isArrayBuffer(f)||u.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function m(f,_,A){let h=f;if(f&&!A&&typeof f=="object"){if(u.endsWith(_,"{}"))_=o?_:_.slice(0,-2),f=JSON.stringify(f);else if(u.isArray(f)&&zs(f)||(u.isFileList(f)||u.endsWith(_,"[]"))&&(h=u.toArray(f)))return _=mi(_),h.forEach(function(G,H){!(u.isUndefined(G)||G===null)&&e.append(a===!0?li([_],H,n):a===null?_:_+"[]",p(G))}),!1}return fr(f)?!0:(e.append(li(A,_,n),p(f)),!1)}let R=[],D=Object.assign($s,{defaultVisitor:m,convertValue:p,isVisitable:fr});function O(f,_){if(!u.isUndefined(f)){if(R.indexOf(f)!==-1)throw Error("Circular reference detected in "+_.join("."));R.push(f),u.forEach(f,function(h,W){(!(u.isUndefined(h)||h===null)&&i.call(e,h,u.isString(W)?W.trim():W,_,D))===!0&&O(h,_?_.concat(W):[W])}),R.pop()}}if(!u.isObject(r))throw new TypeError("data must be an object");return O(r),e}var ie=Xs;function pi(r){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function Si(r,e){this._pairs=[],r&&ie(r,this,e)}var fi=Si.prototype;fi.append=function(e,t){this._pairs.push([e,t])};fi.toString=function(e){let t=e?function(o){return e.call(this,o,pi)}:pi;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};var Nt=Si;function Zs(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ze(r,e,t){if(!e)return r;let o=t&&t.encode||Zs;u.isFunction(t)&&(t={serialize:t});let i=t&&t.serialize,n;if(i?n=i(e,t):n=u.isURLSearchParams(e)?e.toString():new Nt(e,t).toString(o),n){let a=r.indexOf("#");a!==-1&&(r=r.slice(0,a)),r+=(r.indexOf("?")===-1?"?":"&")+n}return r}var Rr=class{constructor(){this.handlers=[]}use(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){u.forEach(this.handlers,function(o){o!==null&&e(o)})}},Er=Rr;var gt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var Ri=typeof URLSearchParams!="undefined"?URLSearchParams:Nt;var Ei=typeof FormData!="undefined"?FormData:null;var di=typeof Blob!="undefined"?Blob:null;var Ai={isBrowser:!0,classes:{URLSearchParams:Ri,FormData:Ei,Blob:di},protocols:["http","https","file","blob","url","data"]};var Tr={};or(Tr,{hasBrowserEnv:()=>Ar,hasStandardBrowserEnv:()=>en,hasStandardBrowserWebWorkerEnv:()=>tn,navigator:()=>dr,origin:()=>rn});var Ar=typeof window!="undefined"&&typeof document!="undefined",dr=typeof navigator=="object"&&navigator||void 0,en=Ar&&(!dr||["ReactNative","NativeScript","NS"].indexOf(dr.product)<0),tn=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rn=Ar&&window.location.href||"http://localhost";var w=U(U({},Tr),Ai);function Or(r,e){return ie(r,new w.classes.URLSearchParams,U({visitor:function(t,o,i,n){return w.isNode&&u.isBuffer(t)?(this.append(o,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}function on(r){return u.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sn(r){let e={},t=Object.keys(r),o,i=t.length,n;for(o=0;o<i;o++)n=t[o],e[n]=r[n];return e}function nn(r){function e(t,o,i,n){let a=t[n++];if(a==="__proto__")return!0;let c=Number.isFinite(+a),l=n>=t.length;return a=!a&&u.isArray(i)?i.length:a,l?(u.hasOwnProp(i,a)?i[a]=[i[a],o]:i[a]=o,!c):((!i[a]||!u.isObject(i[a]))&&(i[a]=[]),e(t,o,i[a],n)&&u.isArray(i[a])&&(i[a]=sn(i[a])),!c)}if(u.isFormData(r)&&u.isFunction(r.entries)){let t={};return u.forEachEntry(r,(o,i)=>{e(on(o),i,t,0)}),t}return null}var vt=nn;function an(r,e,t){if(u.isString(r))try{return(e||JSON.parse)(r),u.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(t||JSON.stringify)(r)}var hr={transitional:gt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let o=t.getContentType()||"",i=o.indexOf("application/json")>-1,n=u.isObject(e);if(n&&u.isHTMLForm(e)&&(e=new FormData(e)),u.isFormData(e))return i?JSON.stringify(vt(e)):e;if(u.isArrayBuffer(e)||u.isBuffer(e)||u.isStream(e)||u.isFile(e)||u.isBlob(e)||u.isReadableStream(e))return e;if(u.isArrayBufferView(e))return e.buffer;if(u.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(n){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Or(e,this.formSerializer).toString();if((c=u.isFileList(e))||o.indexOf("multipart/form-data")>-1){let l=this.env&&this.env.FormData;return ie(c?{"files[]":e}:e,l&&new l,this.formSerializer)}}return n||i?(t.setContentType("application/json",!1),an(e)):e}],transformResponse:[function(e){let t=this.transitional||hr.transitional,o=t&&t.forcedJSONParsing,i=this.responseType==="json";if(u.isResponse(e)||u.isReadableStream(e))return e;if(e&&u.isString(e)&&(o&&!this.responseType||i)){let a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(a)throw c.name==="SyntaxError"?N.from(c,N.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:w.classes.FormData,Blob:w.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};u.forEach(["delete","get","head","post","put","patch"],r=>{hr.headers[r]={}});var he=hr;var cn=u.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ti=r=>{let e={},t,o,i;return r&&r.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),o=a.substring(i+1).trim(),!(!t||e[t]&&cn[t])&&(t==="set-cookie"?e[t]?e[t].push(o):e[t]=[o]:e[t]=e[t]?e[t]+", "+o:o)}),e};var Oi=Symbol("internals");function $e(r){return r&&String(r).trim().toLowerCase()}function Ut(r){return r===!1||r==null?r:u.isArray(r)?r.map(Ut):String(r)}function un(r){let e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,o;for(;o=t.exec(r);)e[o[1]]=o[2];return e}var ln=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Ir(r,e,t,o,i){if(u.isFunction(o))return o.call(this,e,t);if(i&&(e=t),!!u.isString(e)){if(u.isString(o))return e.indexOf(o)!==-1;if(u.isRegExp(o))return o.test(e)}}function mn(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,o)=>t.toUpperCase()+o)}function pn(r,e){let t=u.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(r,o+t,{value:function(i,n,a){return this[o].call(this,e,i,n,a)},configurable:!0})})}var Ie=class{constructor(e){e&&this.set(e)}set(e,t,o){let i=this;function n(c,l,p){let m=$e(l);if(!m)throw new Error("header name must be a non-empty string");let R=u.findKey(i,m);(!R||i[R]===void 0||p===!0||p===void 0&&i[R]!==!1)&&(i[R||l]=Ut(c))}let a=(c,l)=>u.forEach(c,(p,m)=>n(p,m,l));if(u.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(u.isString(e)&&(e=e.trim())&&!ln(e))a(Ti(e),t);else if(u.isObject(e)&&u.isIterable(e)){let c={},l,p;for(let m of e){if(!u.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[p=m[0]]=(l=c[p])?u.isArray(l)?[...l,m[1]]:[l,m[1]]:m[1]}a(c,t)}else e!=null&&n(t,e,o);return this}get(e,t){if(e=$e(e),e){let o=u.findKey(this,e);if(o){let i=this[o];if(!t)return i;if(t===!0)return un(i);if(u.isFunction(t))return t.call(this,i,o);if(u.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=$e(e),e){let o=u.findKey(this,e);return!!(o&&this[o]!==void 0&&(!t||Ir(this,this[o],o,t)))}return!1}delete(e,t){let o=this,i=!1;function n(a){if(a=$e(a),a){let c=u.findKey(o,a);c&&(!t||Ir(o,o[c],c,t))&&(delete o[c],i=!0)}}return u.isArray(e)?e.forEach(n):n(e),i}clear(e){let t=Object.keys(this),o=t.length,i=!1;for(;o--;){let n=t[o];(!e||Ir(this,this[n],n,e,!0))&&(delete this[n],i=!0)}return i}normalize(e){let t=this,o={};return u.forEach(this,(i,n)=>{let a=u.findKey(o,n);if(a){t[a]=Ut(i),delete t[n];return}let c=e?mn(n):String(n).trim();c!==n&&delete t[n],t[c]=Ut(i),o[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return u.forEach(this,(o,i)=>{o!=null&&o!==!1&&(t[i]=e&&u.isArray(o)?o.join(", "):o)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let o=new this(e);return t.forEach(i=>o.set(i)),o}static accessor(e){let o=(this[Oi]=this[Oi]={accessors:{}}).accessors,i=this.prototype;function n(a){let c=$e(a);o[c]||(pn(i,a),o[c]=!0)}return u.isArray(e)?e.forEach(n):n(e),this}};Ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);u.reduceDescriptors(Ie.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(o){this[t]=o}}});u.freezeMethods(Ie);var F=Ie;function Xe(r,e){let t=this||he,o=e||t,i=F.from(o.headers),n=o.data;return u.forEach(r,function(c){n=c.call(t,n,i.normalize(),e?e.status:void 0)}),i.normalize(),n}function Ze(r){return!!(r&&r.__CANCEL__)}function hi(r,e,t){N.call(this,r==null?"canceled":r,N.ERR_CANCELED,e,t),this.name="CanceledError"}u.inherits(hi,N,{__CANCEL__:!0});var z=hi;function et(r,e,t){let o=t.config.validateStatus;!t.status||!o||o(t.status)?r(t):e(new N("Request failed with status code "+t.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function _r(r){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function Sn(r,e){r=r||10;let t=new Array(r),o=new Array(r),i=0,n=0,a;return e=e!==void 0?e:1e3,function(l){let p=Date.now(),m=o[n];a||(a=p),t[i]=l,o[i]=p;let R=n,D=0;for(;R!==i;)D+=t[R++],R=R%r;if(i=(i+1)%r,i===n&&(n=(n+1)%r),p-a<e)return;let O=m&&p-m;return O?Math.round(D*1e3/O):void 0}}var Ii=Sn;function fn(r,e){let t=0,o=1e3/e,i,n,a=(p,m=Date.now())=>{t=m,i=null,n&&(clearTimeout(n),n=null),r(...p)};return[(...p)=>{let m=Date.now(),R=m-t;R>=o?a(p,m):(i=p,n||(n=setTimeout(()=>{n=null,a(i)},o-R)))},()=>i&&a(i)]}var _i=fn;var _e=(r,e,t=3)=>{let o=0,i=Ii(50,250);return _i(n=>{let a=n.loaded,c=n.lengthComputable?n.total:void 0,l=a-o,p=i(l),m=a<=c;o=a;let R={loaded:a,total:c,progress:c?a/c:void 0,bytes:l,rate:p||void 0,estimated:p&&c&&m?(c-a)/p:void 0,event:n,lengthComputable:c!=null,[e?"download":"upload"]:!0};r(R)},t)},Nr=(r,e)=>{let t=r!=null;return[o=>e[0]({lengthComputable:t,total:r,loaded:o}),e[1]]},gr=r=>(...e)=>u.asap(()=>r(...e));var Ni=w.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,w.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(w.origin),w.navigator&&/(msie|trident)/i.test(w.navigator.userAgent)):()=>!0;var gi=w.hasStandardBrowserEnv?{write(r,e,t,o,i,n,a){if(typeof document=="undefined")return;let c=[`${r}=${encodeURIComponent(e)}`];u.isNumber(t)&&c.push(`expires=${new Date(t).toUTCString()}`),u.isString(o)&&c.push(`path=${o}`),u.isString(i)&&c.push(`domain=${i}`),n===!0&&c.push("secure"),u.isString(a)&&c.push(`SameSite=${a}`),document.cookie=c.join("; ")},read(r){if(typeof document=="undefined")return null;let e=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vr(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Ur(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function tt(r,e,t){let o=!vr(e);return r&&(o||t==!1)?Ur(r,e):e}var vi=r=>r instanceof F?U({},r):r;function j(r,e){e=e||{};let t={};function o(p,m,R,D){return u.isPlainObject(p)&&u.isPlainObject(m)?u.merge.call({caseless:D},p,m):u.isPlainObject(m)?u.merge({},m):u.isArray(m)?m.slice():m}function i(p,m,R,D){if(u.isUndefined(m)){if(!u.isUndefined(p))return o(void 0,p,R,D)}else return o(p,m,R,D)}function n(p,m){if(!u.isUndefined(m))return o(void 0,m)}function a(p,m){if(u.isUndefined(m)){if(!u.isUndefined(p))return o(void 0,p)}else return o(void 0,m)}function c(p,m,R){if(R in e)return o(p,m);if(R in r)return o(void 0,p)}let l={url:n,method:n,data:n,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(p,m,R)=>i(vi(p),vi(m),R,!0)};return u.forEach(Object.keys(U(U({},r),e)),function(m){let R=l[m]||i,D=R(r[m],e[m],m);u.isUndefined(D)&&R!==c||(t[m]=D)}),t}var bt=r=>{let e=j({},r),{data:t,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:n,headers:a,auth:c}=e;if(e.headers=a=F.from(a),e.url=ze(tt(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),u.isFormData(t)){if(w.hasStandardBrowserEnv||w.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(u.isFunction(t.getHeaders)){let l=t.getHeaders(),p=["content-type","content-length"];Object.entries(l).forEach(([m,R])=>{p.includes(m.toLowerCase())&&a.set(m,R)})}}if(w.hasStandardBrowserEnv&&(o&&u.isFunction(o)&&(o=o(e)),o||o!==!1&&Ni(e.url))){let l=i&&n&&gi.read(n);l&&a.set(i,l)}return e};var Rn=typeof XMLHttpRequest!="undefined",Ui=Rn&&function(r){return new Promise(function(t,o){let i=bt(r),n=i.data,a=F.from(i.headers).normalize(),{responseType:c,onUploadProgress:l,onDownloadProgress:p}=i,m,R,D,O,f;function _(){O&&O(),f&&f(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function h(){if(!A)return;let G=F.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),T={data:!c||c==="text"||c==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:G,config:r,request:A};et(function(Q){t(Q),_()},function(Q){o(Q),_()},T),A=null}"onloadend"in A?A.onloadend=h:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(h)},A.onabort=function(){A&&(o(new N("Request aborted",N.ECONNABORTED,r,A)),A=null)},A.onerror=function(H){let T=H&&H.message?H.message:"Network Error",ne=new N(T,N.ERR_NETWORK,r,A);ne.event=H||null,o(ne),A=null},A.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",T=i.transitional||gt;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),o(new N(H,T.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,r,A)),A=null},n===void 0&&a.setContentType(null),"setRequestHeader"in A&&u.forEach(a.toJSON(),function(H,T){A.setRequestHeader(T,H)}),u.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),c&&c!=="json"&&(A.responseType=i.responseType),p&&([D,f]=_e(p,!0),A.addEventListener("progress",D)),l&&A.upload&&([R,O]=_e(l),A.upload.addEventListener("progress",R),A.upload.addEventListener("loadend",O)),(i.cancelToken||i.signal)&&(m=G=>{A&&(o(!G||G.type?new z(null,r,A):G),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));let W=_r(i.url);if(W&&w.protocols.indexOf(W)===-1){o(new N("Unsupported protocol "+W+":",N.ERR_BAD_REQUEST,r));return}A.send(n||null)})};var En=(r,e)=>{let{length:t}=r=r?r.filter(Boolean):[];if(e||t){let o=new AbortController,i,n=function(p){if(!i){i=!0,c();let m=p instanceof Error?p:this.reason;o.abort(m instanceof N?m:new z(m instanceof Error?m.message:m))}},a=e&&setTimeout(()=>{a=null,n(new N(`timeout ${e} of ms exceeded`,N.ETIMEDOUT))},e),c=()=>{r&&(a&&clearTimeout(a),a=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(n):p.removeEventListener("abort",n)}),r=null)};r.forEach(p=>p.addEventListener("abort",n));let{signal:l}=o;return l.unsubscribe=()=>u.asap(c),l}},bi=En;var dn=function*(r,e){let t=r.byteLength;if(!e||t<e){yield r;return}let o=0,i;for(;o<t;)i=o+e,yield r.slice(o,i),o=i},An=function(r,e){return sr(this,null,function*(){try{for(var t=Kr(Tn(r)),o,i,n;o=!(i=yield new ce(t.next())).done;o=!1){let a=i.value;yield*nr(dn(a,e))}}catch(i){n=[i]}finally{try{o&&(i=t.return)&&(yield new ce(i.call(t)))}finally{if(n)throw n[0]}}})},Tn=function(r){return sr(this,null,function*(){if(r[Symbol.asyncIterator]){yield*nr(r);return}let e=r.getReader();try{for(;;){let{done:t,value:o}=yield new ce(e.read());if(t)break;yield o}}finally{yield new ce(e.cancel())}})},br=(r,e,t,o)=>{let i=An(r,e),n=0,a,c=p=>{a||(a=!0,o&&o(p))};return new ReadableStream({pull(p){return E(this,null,function*(){try{let{done:m,value:R}=yield i.next();if(m){c(),p.close();return}let D=R.byteLength;if(t){let O=n+=D;t(O)}p.enqueue(new Uint8Array(R))}catch(m){throw c(m),m}})},cancel(p){return c(p),i.return()}},{highWaterMark:2})};var Pi=64*1024,{isFunction:Pt}=u,On=(({Request:r,Response:e})=>({Request:r,Response:e}))(u.global),{ReadableStream:Di,TextEncoder:xi}=u.global,wi=(r,...e)=>{try{return!!r(...e)}catch(t){return!1}},hn=r=>{r=u.merge.call({skipUndefined:!0},On,r);let{fetch:e,Request:t,Response:o}=r,i=e?Pt(e):typeof fetch=="function",n=Pt(t),a=Pt(o);if(!i)return!1;let c=i&&Pt(Di),l=i&&(typeof xi=="function"?(f=>_=>f.encode(_))(new xi):f=>E(null,null,function*(){return new Uint8Array(yield new t(f).arrayBuffer())})),p=n&&c&&wi(()=>{let f=!1,_=new t(w.origin,{body:new Di,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!_}),m=a&&c&&wi(()=>u.isReadableStream(new o("").body)),R={stream:m&&(f=>f.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!R[f]&&(R[f]=(_,A)=>{let h=_&&_[f];if(h)return h.call(_);throw new N(`Response type '${f}' is not supported`,N.ERR_NOT_SUPPORT,A)})});let D=f=>E(null,null,function*(){if(f==null)return 0;if(u.isBlob(f))return f.size;if(u.isSpecCompliantForm(f))return(yield new t(w.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(u.isArrayBufferView(f)||u.isArrayBuffer(f))return f.byteLength;if(u.isURLSearchParams(f)&&(f=f+""),u.isString(f))return(yield l(f)).byteLength}),O=(f,_)=>E(null,null,function*(){let A=u.toFiniteNumber(f.getContentLength());return A==null?D(_):A});return f=>E(null,null,function*(){let{url:_,method:A,data:h,signal:W,cancelToken:G,timeout:H,onDownloadProgress:T,onUploadProgress:ne,responseType:Q,headers:I,withCredentials:ct="same-origin",fetchOptions:kr}=bt(f),P=e||fetch;Q=Q?(Q+"").toLowerCase():"text";let ut=bi([W,G&&G.toAbortSignal()],H),Ve=null,ae=ut&&ut.unsubscribe&&(()=>{ut.unsubscribe()}),Hr;try{if(ne&&p&&A!=="get"&&A!=="head"&&(Hr=yield O(I,h))!==0){let oe=new t(_,{method:"POST",body:h,duplex:"half"}),fe;if(u.isFormData(h)&&(fe=oe.headers.get("content-type"))&&I.setContentType(fe),oe.body){let[er,lt]=Nr(Hr,_e(gr(ne)));h=br(oe.body,Pi,er,lt)}}u.isString(ct)||(ct=ct?"include":"omit");let K=n&&"credentials"in t.prototype,Br=Ee(U({},kr),{signal:ut,method:A.toUpperCase(),headers:I.normalize().toJSON(),body:h,duplex:"half",credentials:K?ct:void 0});Ve=n&&new t(_,Br);let re=yield n?P(Ve,kr):P(_,Br),Vr=m&&(Q==="stream"||Q==="response");if(m&&(T||Vr&&ae)){let oe={};["status","statusText","headers"].forEach(Wr=>{oe[Wr]=re[Wr]});let fe=u.toFiniteNumber(re.headers.get("content-length")),[er,lt]=T&&Nr(fe,_e(gr(T),!0))||[];re=new o(br(re.body,Pi,er,()=>{lt&&lt(),ae&&ae()}),oe)}Q=Q||"text";let Zi=yield R[u.findKey(R,Q)||"text"](re,f);return!Vr&&ae&&ae(),yield new Promise((oe,fe)=>{et(oe,fe,{data:Zi,headers:F.from(re.headers),status:re.status,statusText:re.statusText,config:f,request:Ve})})}catch(K){throw ae&&ae(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,f,Ve),{cause:K.cause||K}):N.from(K,K&&K.code,f,Ve)}})},In=new Map,Pr=r=>{let e=r&&r.env||{},{fetch:t,Request:o,Response:i}=e,n=[o,i,t],a=n.length,c=a,l,p,m=In;for(;c--;)l=n[c],p=m.get(l),p===void 0&&m.set(l,p=c?new Map:hn(e)),m=p;return p},Of=Pr();var Dr={http:_t,xhr:Ui,fetch:{get:Pr}};u.forEach(Dr,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch(t){}Object.defineProperty(r,"adapterName",{value:e})}});var Mi=r=>`- ${r}`,Nn=r=>u.isFunction(r)||r===null||r===!1;function gn(r,e){r=u.isArray(r)?r:[r];let{length:t}=r,o,i,n={};for(let a=0;a<t;a++){o=r[a];let c;if(i=o,!Nn(o)&&(i=Dr[(c=String(o)).toLowerCase()],i===void 0))throw new N(`Unknown adapter '${c}'`);if(i&&(u.isFunction(i)||(i=i.get(e))))break;n[c||"#"+a]=i}if(!i){let a=Object.entries(n).map(([l,p])=>`adapter ${l} `+(p===!1?"is not supported by the environment":"is not available in the build")),c=t?a.length>1?`since :
`+a.map(Mi).join(`
`):" "+Mi(a[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}var Dt={getAdapter:gn,adapters:Dr};function xr(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new z(null,r)}function xt(r){return xr(r),r.headers=F.from(r.headers),r.data=Xe.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Dt.getAdapter(r.adapter||he.adapter,r)(r).then(function(o){return xr(r),o.data=Xe.call(r,r.transformResponse,o),o.headers=F.from(o.headers),o},function(o){return Ze(o)||(xr(r),o&&o.response&&(o.response.data=Xe.call(r,r.transformResponse,o.response),o.response.headers=F.from(o.response.headers))),Promise.reject(o)})}var wt="1.13.2";var Mt={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Mt[r]=function(o){return typeof o===r||"a"+(e<1?"n ":" ")+r}});var qi={};Mt.transitional=function(e,t,o){function i(n,a){return"[Axios v"+wt+"] Transitional option '"+n+"'"+a+(o?". "+o:"")}return(n,a,c)=>{if(e===!1)throw new N(i(a," has been removed"+(t?" in "+t:"")),N.ERR_DEPRECATED);return t&&!qi[a]&&(qi[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(n,a,c):!0}};Mt.spelling=function(e){return(t,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function vn(r,e,t){if(typeof r!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);let o=Object.keys(r),i=o.length;for(;i-- >0;){let n=o[i],a=e[n];if(a){let c=r[n],l=c===void 0||a(c,n,r);if(l!==!0)throw new N("option "+n+" must be "+l,N.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new N("Unknown option "+n,N.ERR_BAD_OPTION)}}var rt={assertOptions:vn,validators:Mt};var $=rt.validators,Ne=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Er,response:new Er}}request(e,t){return E(this,null,function*(){try{return yield this._request(e,t)}catch(o){if(o instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;let n=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?n&&!String(o.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+n):o.stack=n}catch(a){}}throw o}})}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=j(this.defaults,t);let{transitional:o,paramsSerializer:i,headers:n}=t;o!==void 0&&rt.assertOptions(o,{silentJSONParsing:$.transitional($.boolean),forcedJSONParsing:$.transitional($.boolean),clarifyTimeoutError:$.transitional($.boolean)},!1),i!=null&&(u.isFunction(i)?t.paramsSerializer={serialize:i}:rt.assertOptions(i,{encode:$.function,serialize:$.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),rt.assertOptions(t,{baseUrl:$.spelling("baseURL"),withXsrfToken:$.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=n&&u.merge(n.common,n[t.method]);n&&u.forEach(["delete","get","head","post","put","patch","common"],f=>{delete n[f]}),t.headers=F.concat(a,n);let c=[],l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(t)===!1||(l=l&&_.synchronous,c.unshift(_.fulfilled,_.rejected))});let p=[];this.interceptors.response.forEach(function(_){p.push(_.fulfilled,_.rejected)});let m,R=0,D;if(!l){let f=[xt.bind(this),void 0];for(f.unshift(...c),f.push(...p),D=f.length,m=Promise.resolve(t);R<D;)m=m.then(f[R++],f[R++]);return m}D=c.length;let O=t;for(;R<D;){let f=c[R++],_=c[R++];try{O=f(O)}catch(A){_.call(this,A);break}}try{m=xt.call(this,O)}catch(f){return Promise.reject(f)}for(R=0,D=p.length;R<D;)m=m.then(p[R++],p[R++]);return m}getUri(e){e=j(this.defaults,e);let t=tt(e.baseURL,e.url,e.allowAbsoluteUrls);return ze(t,e.params,e.paramsSerializer)}};u.forEach(["delete","get","head","options"],function(e){Ne.prototype[e]=function(t,o){return this.request(j(o||{},{method:e,url:t,data:(o||{}).data}))}});u.forEach(["post","put","patch"],function(e){function t(o){return function(n,a,c){return this.request(j(c||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}Ne.prototype[e]=t(),Ne.prototype[e+"Form"]=t(!0)});var ot=Ne;var wr=class r{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(n){t=n});let o=this;this.promise.then(i=>{if(!o._listeners)return;let n=o._listeners.length;for(;n-- >0;)o._listeners[n](i);o._listeners=null}),this.promise.then=i=>{let n,a=new Promise(c=>{o.subscribe(c),n=c}).then(i);return a.cancel=function(){o.unsubscribe(n)},a},e(function(n,a,c){o.reason||(o.reason=new z(n,a,c),t(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=o=>{e.abort(o)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new r(function(i){e=i}),cancel:e}}},Ci=wr;function Mr(r){return function(t){return r.apply(null,t)}}function qr(r){return u.isObject(r)&&r.isAxiosError===!0}var Cr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Cr).forEach(([r,e])=>{Cr[e]=r});var yi=Cr;function Fi(r){let e=new ot(r),t=Ye(ot.prototype.request,e);return u.extend(t,ot.prototype,e,{allOwnKeys:!0}),u.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Fi(j(r,i))},t}var C=Fi(he);C.Axios=ot;C.CanceledError=z;C.CancelToken=Ci;C.isCancel=Ze;C.VERSION=wt;C.toFormData=ie;C.AxiosError=N;C.Cancel=C.CanceledError;C.all=function(e){return Promise.all(e)};C.spread=Mr;C.isAxiosError=qr;C.mergeConfig=j;C.AxiosHeaders=F;C.formToJSON=r=>vt(u.isHTMLForm(r)?new FormData(r):r);C.getAdapter=Dt.getAdapter;C.HttpStatusCode=yi;C.default=C;var se=C;var{Axios:TR,AxiosError:OR,CanceledError:hR,isCancel:IR,CancelToken:_R,VERSION:NR,all:gR,Cancel:vR,isAxiosError:UR,spread:bR,toFormData:PR,AxiosHeaders:DR,HttpStatusCode:xR,formToJSON:wR,getAdapter:MR,mergeConfig:qR}=se;var qt=class r{static post(e){let t={method:"POST",headers:r.getHeaders(e.extraHeaders)};return se.post(e.url,e.formData,t)}static getHeaders(e){var t={charset:"UTF-8","Content-Type":"multipart/form-data"};return e?U(U({},t),e):t}};var yt=class yt{static getFunction(e){try{return yt.requestMethodMapping[e]}catch(t){throw new Error("invalid request type: "+e)}}};yt.requestMethodMapping={POST:(e,t,o)=>se.post(e,t,o),GET:(e,t,o)=>se.get(e,U({data:t},o)),DELETE:(e,t,o)=>se.delete(e,U({data:t},o)),NONE:(e,t,o)=>{throw new Error("invalid request, no request type")}};var Ct=yt;var it=class r{static request(e){let t=["POST","DELETE"].includes(e.requestType);var o=t?e.url:r.getUrlWithSearchParams(e.url,e.params),i=t?e.params:null,n={method:e.requestType,headers:r.getHeaders(e.extraHeaders,t),validateStatus:a=>!0};return Ct.getFunction(e.requestType)(o,i,n)}static getHeaders(e,t=!1){var o={charset:"UTF-8"};return t&&(o["Content-type"]="application/json"),e?U(U({},o),e):o}static getUrlWithSearchParams(e,t){return t?e+"?"+new URLSearchParams(t):e}};var st=class{static handle(e,t){return E(this,null,function*(){var o=e.data;if(!o)throw new q("http error. (status="+e.status+")",-1);var i=o;if((i==null?void 0:i.status)==="success")return t?o:i.data;throw q.Factory.createFromNbResponse(i,e.status)})}};var ge,le,Ft=class{constructor(e){M(this,ge);M(this,le);Y(this,ge,"https://"+e)}nbRequest(e,t,o,i=!1){return E(this,null,function*(){let n=this.getNbUrl(e),a=this.getHeaders();var c=yield it.request({url:n,requestType:t,params:o,extraHeaders:a});return yield st.handle(c,i)})}nbFormDataRequest(e,t,o,i){return E(this,null,function*(){let n=this.getNbUrl(e),a=At.build({fields:t,files:o,message:i||{}}),c=this.getHeaders(),l=yield qt.post({url:n,formData:a,extraHeaders:c});return yield st.handle(l,!1)})}apRequest(e,t,o,i){return E(this,null,function*(){let n=this.getApUrl(e),a=U(U({},i),this.getHeaders()),c=yield it.request({url:n,requestType:t,params:o,extraHeaders:a});return yield Rt.handle(c)})}authenticateUser(e){return E(this,null,function*(){var t=yield this.apRequest("AuthenticateUser","GET",null,e);Y(this,le,t.SessionToken)})}updateSessionToken(e){Y(this,le,e)}subscribe(e,t,o,i,n){throw new Error("Method not implemented.")}unsubscribe(e,t,o,i,n){throw new Error("Method not implemented.")}setResponseHandler(e){throw new Error("Method not implemented.")}setResponseHandlers(e){throw new Error("Method not implemented.")}getApUrl(e){return b(this,ge)+"/ap/"+e}getNbUrl(e){return b(this,ge)+"/api/nb/"+e}connect(){return Promise.resolve()}close(){return Promise.resolve()}getHeaders(){return b(this,le)?{aptoken:b(this,le)}:{}}};ge=new WeakMap,le=new WeakMap;function d(r,e){return Ee(U({},r),{OMSId:e})}var ve=class{constructor(e){this.OMS_ID=1;this.connection=e}getAccountTransactions(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetAccountTransactions","POST",t)}getAccountPositions(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetAccountPositions","POST",t)}getAccountInstrumentStatistics(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetAccountInstrumentStatistics","POST",t)}getAccountInfo(){return E(this,arguments,function*(e={}){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetAccountInfo","POST",t)})}};var Ue=class{constructor(e){this.connection=e}webAuthenticateUser(e){return E(this,null,function*(){return yield this.connection.apRequest("WebAuthenticateUser","NONE",e)})}logOut(){return E(this,null,function*(){return yield this.connection.apRequest("LogOut","POST")})}};var be=class{constructor(e){this.OMS_ID=1;this.connection=e}getDepositFee(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetDepositFee","POST",t)}getWithdrawFee(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetWithdrawFee","POST",t)}getOMSWithdrawFees(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOMSWithdrawFees","POST",t)}getOMSDepositFees(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOMSDepositFees","POST",t)})}getAccountFees(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetAccountFees","POST",t)})}getOrderFee(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOrderFee","POST",t)})}};var Pe=class{constructor(e){this.OMS_ID=1;this.connection=e,this.instrumentCache={}}getInstruments(e={}){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetInstruments","POST",t)}getInstrument(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetInstrument","POST",t)}getInstrumentBySymbol(e){return E(this,null,function*(){if(!(e.symbol in this.instrumentCache)){var t=yield this.getInstruments();t.map(o=>this.instrumentCache[o.Symbol]=o)}if(e.symbol in this.instrumentCache)return Promise.resolve(this.instrumentCache[e.symbol]);throw new q("no instrument found for symbol "+e.symbol,-1)})}getInstrumentVerificationLevelConfigs(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetInstrumentVerificationLevelConfig","POST",t)})}};var De=class{constructor(e){this.OMS_ID=1;this.connection=e,this.productCache={}}getProduct(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetProduct","POST",t)}getProducts(){return E(this,arguments,function*(e={}){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetProducts","POST",t)})}getProductBySymbol(e){return E(this,null,function*(){if(!(e.symbol in this.productCache)){var t=yield this.getProducts();t.map(o=>this.productCache[o.Product]=o)}if(e.symbol in this.productCache)return Promise.resolve(this.productCache[e.symbol]);throw new q("no product found for symbol "+e.symbol,-1)})}getVerificationLevelConfig(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return yield this.connection.apRequest("GetVerificationLevelConfig","POST",t)})}};var xe=class{constructor(e){this.OMS_ID=1;this.connection=e}generateTradeActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GenerateTradeActivityReport","POST",t)}generateTransactionActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GenerateTransactionActivityReport","POST",t)}generateProductDeltaActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GenerateProductDeltaActivityReport","POST",t)}generatePnLActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GeneratePnLActivityReport","POST",t)}scheduleTradeActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("ScheduleTradeActivityReport","POST",t)}scheduleTransactionActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("ScheduleTransactionActivityReport","POST",t)}scheduleProductDeltaActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("ScheduleProductDeltaActivityReport","POST",t)}scheduleProfitAndLossActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("ScheduleProfitAndLossActivityReport","POST",t)}cancelUserReport(e){return this.connection.apRequest("CancelUserReport","POST",e)}getUserReportWriterResultRecords(e){return this.connection.apRequest("GetUserReportWriterResultRecords","POST",e)}getUserReportTickets(e){return this.connection.apRequest("GetUserReportTickets","POST",e)}removeUserReportTicket(e){return this.connection.apRequest("RemoveUserReportTicket","POST",e.UserReportTicketId)}getUserReportTicketsByStatus(e){return this.connection.apRequest("GetUserReportTicketsByStatus","POST",e)}downloadDocument(e){return this.connection.apRequest("DownloadDocument","POST",e)}downloadDocumentSlice(e){return this.connection.apRequest("DownloadDocumentSlice","POST",e)}};var we=class{constructor(e){this.connection=e}ping(){return this.connection.apRequest("Ping","POST")}healthCheck(){return this.connection.apRequest("HealthCheck","POST")}};function Lt(r,e){return r.map(t=>Ee(U({},t),{OMSId:e}))}function Gt(r){return{TradeId:r[0],InstrumentId:r[1],Quantity:r[2],Price:r[3],Order1:r[4],Order2:r[5],Tradetime:r[6],Direction:r[7],TakerSide:r[8],BlockTrade:r[9]==1,OrderClientId:r[10]}}var Me=class{constructor(e){this.OMS_ID=1;this.connection=e}sendOrderList(e){let t=Lt(e,this.OMS_ID);return this.connection.apRequest("SendOrderList","POST",t)}sendCancelList(e){let t=Lt(e,this.OMS_ID);return this.connection.apRequest("SendCancelList","POST",t)}sendCancelReplaceList(e){let t=Lt(e,this.OMS_ID);return this.connection.apRequest("SendCancelReplaceList","POST",t)}modifyOrder(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("ModifyOrder","POST",t)}cancelAllOrders(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("CancelAllOrders","POST",t)}getOrderStatus(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOrderStatus","POST",t)})}getOrdersHistory(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOrdersHistory","POST",t)}getTradesHistory(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetTradesHistory","POST",t)}getOrderHistoryByOrderId(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOrderHistoryByOrderId","POST",t)}getTickerHistory(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return(yield this.connection.apRequest("GetTickerHistory","POST",t)).map(i=>({EndDateTime:i[0],High:i[1],Low:i[2],Open:i[3],Close:i[4],Volume:i[5],Bid:i[6],Ask:i[7],InstrumentId:i[8],BeginDateTime:i[9]}))})}getLastTrades(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return(yield this.connection.apRequest("GetLastTrades","POST",t)).map(i=>Gt(i))})}getLevel1Summary(){return E(this,arguments,function*(e={}){let t=d(e,this.OMS_ID);return(yield this.connection.apRequest("GetLevel1Summary","POST",t)).map(i=>JSON.parse(i))})}getLevel1SummaryMin(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return(yield this.connection.apRequest("GetLevel1SummaryMin","POST",t)).map(i=>({InstrumentId:i[0],InstrumentSymbol:i[1].toString(),LastTradedPx:i[2],Rolling24HrPxChange:i[3],Rolling24HrPxChangePercent:i[4],Rolling24HrVolume:i[5]}))})}getOpenTradeReports(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOpenTradeReports","POST",t)}getOrders(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOrders","POST",t)}getOrderHistory(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOrderHistory","POST",t)}sendOrder(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("SendOrder","POST",t)})}cancelReplaceOrder(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("CancelReplaceOrder","POST",t)}cancelOrder(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("CancelOrder","POST",t)}getOpenOrders(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOpenOrders","POST",t)}getAccountTrades(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetAccountTrades","POST",t)}getSummary(){return this.connection.apRequest("Summary","POST")}getTicker(){return this.connection.apRequest("Ticker","POST")}getOrderBook(e){return E(this,null,function*(){let t=yield this.connection.apRequest("OrderBook","POST",e);return ar(t)})}getOrderBookRaw(e){return this.connection.apRequest("OrderBook","POST",e)}getTrades(e){return this.connection.apRequest("Trades","POST",e)}getL2Snapshot(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return(yield this.connection.apRequest("GetL2Snapshot","POST",t)).map(i=>({MDUpdateID:i[0],NumberOfUniqueAccounts:i[1],ActionDateTime:i[2],ActionType:i[3],LastTradePrice:i[4],NumberOfOrders:i[5],Price:i[6],ProductPairCode:i[7],Quantity:i[8],Side:i[9]}))})}getLevel1(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetLevel1","POST",t)}getEnums(){return this.connection.apRequest("GetEnums","POST")}};var qe=class{constructor(e){this.OMS_ID=1;this.connection=e}getUserAccounts(e={}){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetUserAccounts","POST",t)}getUserDevices(e){return this.connection.apRequest("GetUserDevices","POST",e)}getUserInfo(e){return this.connection.apRequest("GetUserInfo","POST",e)}getUserPermissions(e){return this.connection.apRequest("GetUserPermissions","POST",e)}};var me,nt,Ce=class{constructor(e){M(this,me);this.connection=e}getBanks(e){return g(this,me,nt).call(this,"banks","GET",e)}getProvinces(e){return g(this,me,nt).call(this,"provinces","GET",e)}AddClientBankAccount(e){return this.connection.nbRequest("bank-accounts","POST",e)}getClientBankAccount(e){return this.connection.nbRequest("bank-accounts/"+e.bankAccountId,"GET")}getClientBankAccounts(e){return g(this,me,nt).call(this,"bank-accounts","GET",e)}deleteClientBankAccount(e){return this.connection.nbRequest("bank-accounts/"+e.bankAccountId,"DELETE")}getNetworksTemplates(e){return this.connection.nbRequest("wallet/crypto/withdrawal/templates","GET",e)}getDepositAddresses(e){return this.connection.nbRequest("wallet/crypto","GET",e)}createDepositAddress(e){return this.connection.nbRequest("wallet/crypto","POST",e)}getWhitelistedAddresses(e){return this.connection.nbRequest("wallet/crypto/whitelist-addresses","GET",e)}addWhitelistedAddress(e){return this.connection.nbRequest("wallet/crypto/whitelist-addresses","POST",e)}confirmWhitelistedAddress(e){return this.connection.nbRequest("wallet/crypto/whitelist-addresses/"+e.whitelistedAddressId+"/verification","POST",{sms_code:e.sms_code,account_id:e.account_id})}resendVerificationCodeWhitelistedAddress(e){return this.connection.nbRequest("wallet/crypto/whitelist-addresses/"+e.whitelistedAddressId+"/verification","GET",{account_id:e.account_id})}deleteWhitelistedAddress(e){return this.connection.nbRequest("wallet/crypto/whitelist-addresses/"+e.whitelistedAddressId,"DELETE",{account_id:e.account_id,otp:e.otp})}updateOneStepWithdraw(e){return this.connection.nbRequest("wallet/crypto/whitelist-addresses/one-step/status","POST",e)}createCryptoWithdraw(e){return this.connection.nbRequest("wallet/crypto/withdrawal","POST",e)}createFiatDeposit(e){return E(this,null,function*(){let t=yield this.connection.nbRequest("wallet/fiat/deposit","POST",e);return t==null?void 0:t.url})}getOwnersFiatWithdraw(e){return this.connection.nbRequest("wallet/fiat/withdrawal/owners","GET",e)}createFiatWithdraw(e){return E(this,null,function*(){let t=yield this.connection.nbRequest("wallet/fiat/withdrawal","POST",e);return t==null?void 0:t.withdrawal_id})}confirmFiatWithdraw(e){return this.connection.nbRequest("wallet/fiat/withdrawal/"+e.withdrawal_id,"POST",{attempt_code:e.attempt_code})}transferFunds(e){return this.connection.nbRequest("wallet/transfer-funds","POST",e)}getTransactions(e){return g(this,me,nt).call(this,"wallet/transactions","GET",e)}};me=new WeakSet,nt=function(e,t,o){return this.connection.nbRequest(e,t,o,!0)};var ye=class{constructor(e){this.connection=e}getQuotes(e){return this.connection.nbRequest("quotes","GET",e)}createDirectQuote(e){return E(this,null,function*(){return(yield this.connection.nbRequest("quotes/direct","POST",e)).id})}createInverseQuote(e){return E(this,null,function*(){return(yield this.connection.nbRequest("quotes/inverse","POST",e)).id})}getQuote(e){return this.connection.nbRequest("quotes/"+e.quote_id,"GET",e)}executeQuote(e){return this.connection.nbRequest("quotes/"+e.quote_id,"POST",e)}};var Fe=class{constructor(e){this.connection=e}verifyBasic(e){return this.connection.nbRequest("account/verification/basic","POST",e)}verifyTrader(e){let i=U({},e),{document_address_file:t}=i,o=de(i,["document_address_file"]);return this.connection.nbFormDataRequest("account/verification/trader",[],[["document_address_file",t]],o)}verifyTraderPlus(e){let n=U({},e),{files:t,fields:o}=n,i=de(n,["files","fields"]);return this.connection.nbFormDataRequest("account/verification/trader-plus",o,t,i)}getTraderPlusVerificationSchemas(e){return this.connection.nbRequest("account/verification/trader-plus/schemas","GET",e)}getInstitutionalCompanySchemas(e){return this.connection.nbRequest("account/verification/institutional/company/schemas","GET",e)}verifyInstitutionalCompany(e){let n=U({},e),{files:t,fields:o}=n,i=de(n,["files","fields"]);return this.connection.nbFormDataRequest("account/verification/institutional/company",o,t||[],i)}getInstitutionalCompanyVerificationStatus(){return this.connection.nbRequest("account/verification/institutional/company","GET")}getInstitutionalMemberTypes(){return this.connection.nbRequest("account/verification/institutional/members/types","GET")}getInstitutionalMemberSchemas(e){return this.connection.nbRequest("account/verification/institutional/members/schemas","GET",e)}verifyInstitutionalMember(e){let n=U({},e),{files:t,fields:o}=n,i=de(n,["files","fields"]);return this.connection.nbFormDataRequest("account/verification/institutional/members",o,t,i)}getInstitutionalMemberVerificationStatus(){return this.connection.nbRequest("account/verification/institutional/members","GET")}getInstitutionalDocumentTypes(){return this.connection.nbRequest("account/verification/institutional/documents/types","GET")}verifyInstitutionalDocument(e){let i=U({},e),{file:t}=i,o=de(i,["file"]);return this.connection.nbFormDataRequest("account/verification/institutional/documents",[],[["file",t]],o)}getInstitutionalDocumentVerificationStatus(){return this.connection.nbRequest("account/verification/institutional/documents","GET")}getVerificationStatus(e={}){return this.connection.nbRequest("account/verification/status","GET",e)}};var Le=class{constructor(e){this.connection=e}registerUser(e){return this.connection.nbRequest("account/register","POST",e)}};var Ge=class{constructor(e){this.connection=e}depositToYield(e){return this.connection.nbRequest("savings/deposit","POST",e)}withdrawFromYield(e){return this.connection.nbRequest("savings/withdraw","POST",e)}};var Un="api.notbank.exchange",y,kt=class{constructor(e){M(this,y);let t=e||Un;Y(this,y,new Ft(t))}authenticateUser(e){var t=pt(),o=St(e.ApiPublicKey,e.ApiSecretKey,e.UserId,t);return b(this,y).authenticateUser({APIKey:e.ApiPublicKey,Signature:o,UserId:e.UserId,Nonce:t})}updateSessionToken(e){this.getConnection().updateSessionToken(e)}getConnection(){return b(this,y)}newAccountService(){return new ve(b(this,y))}newAuthService(){return new Ue(b(this,y))}newFeeService(){return new be(b(this,y))}newInstrumentService(){return new Pe(b(this,y))}newProductService(){return new De(b(this,y))}newReportService(){return new xe(b(this,y))}newSystemService(){return new we(b(this,y))}newTradingService(){return new Me(b(this,y))}newUserService(){return new qe(b(this,y))}newWalletService(){return new Ce(b(this,y))}newQuoteService(){return new ye(b(this,y))}newRegisterService(){return new Le(b(this,y))}newVerificationService(){return new Fe(b(this,y))}newSavingsService(){return new Ge(b(this,y))}};y=new WeakMap;var Ht=class{constructor(e=1e4,t=5e3){this.pingIntervalMillis=e,this.pingTimeoutMillis=t}startPing(e,t){this.stop(),this.interval=setInterval(()=>E(this,null,function*(){try{yield Promise.race([e.apRequest("Ping","NONE"),new Promise((o,i)=>setTimeout(i,this.pingTimeoutMillis))])}catch(o){yield t.reconnect();return}}),this.pingIntervalMillis),typeof this.interval.unref=="function"&&this.interval.unref()}stop(){this.interval&&clearTimeout(this.interval)}};var Bt=class{constructor(){this.authenticateFn=null}updateAuthentication(e){this.authenticateFn=e}removeAuthentication(){this.authenticateFn=null}makeAuthentication(e){this.authenticateFn!==null&&this.authenticateFn(e)}};var Wt,v,yr,Fr,Lr,Gr,Li,X,Gi,Vt,ki,Hi,Bi,x=class x{static get(e,t=null,o=null){var i,n;return e+g(i=x,v,yr).call(i,t)+g(n=x,v,yr).call(n,o)}static getFromMessageFrame(e){var t,o,i;return(i=(o=(t=b(this,Wt))[e.n])==null?void 0:o.call(t,e.n,e.o))!=null?i:e.n}};Wt=new WeakMap,v=new WeakSet,yr=function(e){return e!=null?"_"+e:""},Fr=function(e,t){var i;let o=g(i=x,v,Vt).call(i,t,8);return o==null?e:e+"_"+o},Lr=function(e,t){var o;return e+"_"+g(o=x,v,ki).call(o,t)},Gr=function(e,t){var i;let o=g(i=x,v,Vt).call(i,t,7);return o==null?e:e+"_"+o},Li=function(e,t){var i;let o=g(i=x,v,Vt).call(i,t,1);return o==null?e:e+"_"+o},X=function(e,t){var i;let o=g(i=x,v,Hi).call(i,t);return o!=null||(o=g(this,v,Bi).call(this,t),o!=null)?e+"_"+o:e},Gi=function(e,t){let o=JSON.parse(t),i=e+"_"+o.AccountId;return o.Instrument&&(i=i+"_"+o.Instrument),i},Vt=function(e,t){let o=JSON.parse(e);return o.length==0||o[0].length<=t?null:o[0][t]},ki=function(e){return JSON.parse(e).InstrumentId},Hi=function(e){return JSON.parse(e).AccountId},Bi=function(e){return JSON.parse(e).Account},M(x,v),M(x,Wt,{SubscribeLevel1:g(x,v,Lr),Level1UpdateEvent:g(x,v,Lr),SubscribeLevel2:g(x,v,Gr),Level2UpdateEvent:g(x,v,Gr),SubscribeTicker:g(x,v,Fr),TickerDataUpdateEvent:g(x,v,Fr),SubscribeTrades:g(x,v,Li),SubscribeOrderStateEvents:g(x,v,Gi),TransactionEvent:g(x,v,X),WithdrawTicketUpdateEvent:g(x,v,X),AccountPositionEvent:g(x,v,X),OrderTradeEvent:g(x,v,X),OrderStateEvent:g(x,v,X),DepositTicketUpdateEvent:g(x,v,X),AccountInfoUpdateEvent:g(x,v,X),CancelOrderRejectEvent:g(x,v,X),DepositEvent:g(x,v,X)});var Z=x;var Yt,Vi,Qt=class{constructor(){M(this,Yt);this.currentSubscriptions=[]}saveSubscription(e){this.currentSubscriptions.push(e)}removeSubscription(e){for(let o=0;o<e.length;o++)for(let i=0;i<this.currentSubscriptions.length;i++){var t=g(this,Yt,Vi).call(this,this.currentSubscriptions[i],e[o]);if(t){this.currentSubscriptions.splice(i,1);return}}}makeSubscriptions(e){this.currentSubscriptions.forEach(t=>e.subscribe(t.endpoint,t.firstIdentifier,t.secondIdentifier,t.message,t.subscriptionHandlers))}};Yt=new WeakSet,Vi=function(e,t){var o=Z.get(e.endpoint,e.firstIdentifier,e.secondIdentifier);return o===t};var Yi=jr(Qi(),1);var pe,Se,ke,Jt=class{constructor(){M(this,pe);M(this,Se);M(this,ke);Y(this,pe,{}),Y(this,Se,{}),Y(this,ke,2)}putCallback(e){var t=b(this,ke);return b(this,Se)[t]=e,Y(this,ke,b(this,ke)+2),t}popCallback(e){let t=b(this,Se)[e];return delete b(this,Se)[e],t!=null?t:o=>null}addSubscriptionCallback(e,t){b(this,pe)[e]=t}getSubscriptionCallback(e){return b(this,pe)[e]||null}removeSubscriptionCallback(e){e.map(t=>delete b(this,pe)[t])}};pe=new WeakMap,Se=new WeakMap,ke=new WeakMap;var Pn=r=>{},Dn="api.notbank.exchange",V,Ji,ji,jt,Ki,zi,He=class{constructor(e){M(this,V);this.domain=(e==null?void 0:e.domain)||Dn,this.callbackManager=new Jt,this.hooks=(e==null?void 0:e.websocketHooks)||{},this.peekMessageIn=(e==null?void 0:e.peekMessageIn)||(t=>{}),this.peekMessageOut=(e==null?void 0:e.peekMessageOut)||(t=>{})}nbFormDataRequest(e,t,o,i){throw new Error("websocket client does not support nb form data methods.")}updateSessionToken(e){throw new Error("websocket client does not updating session token.")}nbRequest(e,t,o){throw new Error("websocket client does not support nb methods.")}connect(){return E(this,null,function*(){return this.websocket=new Yi.default("wss://"+this.domain+"/wsgateway"),this.websocket.onopen=e=>{var t,o;return(o=(t=this.hooks).onOpen)==null?void 0:o.call(t,e)},this.websocket.onclose=e=>{var t,o;return(o=(t=this.hooks).onClose)==null?void 0:o.call(t,e)},this.websocket.onerror=e=>{var t,o;return(o=(t=this.hooks).onError)==null?void 0:o.call(t,e)},this.websocket.addEventListener("message",e=>{let t=JSON.parse(e.data);g(this,V,ji).call(this,t)}),this.websocket.addEventListener("message",e=>{var t,o;return(o=(t=this.hooks).onMessage)==null?void 0:o.call(t,e)}),new Promise((e,t)=>this.websocket.addEventListener("open",o=>e()))})}close(){return this.websocket.close()}get readyState(){return this.websocket.readyState}apRequest(e,t,o){return g(this,V,jt).call(this,e,o,0)}subscribe(e,t,o,i,n){return E(this,null,function*(){return n.map(a=>this.callbackManager.addSubscriptionCallback(Z.get(a.eventName,t,o),a.eventHandler)),g(this,V,jt).call(this,e,i,0)})}unsubscribe(e,t,o,i,n){return E(this,null,function*(){return this.callbackManager.removeSubscriptionCallback(n.map(a=>Z.get(a,t,o))),yield g(this,V,jt).call(this,e,i,0)})}closeConnection(){this.websocket.socket.close()}authenticateUser(e){return E(this,null,function*(){yield this.apRequest("AuthenticateUser","NONE",e)})}};V=new WeakSet,Ji=function(e){return Z.getFromMessageFrame(e)},ji=function(e){this.peekMessageIn(e);let t=this.callbackManager.popCallback(e.i);if(t!=null&&(t(e),wn(e)))return;let o=g(this,V,Ji).call(this,e),i=this.callbackManager.getSubscriptionCallback(o);if(i!=null){i(e);return}var n=o.lastIndexOf("_");if(n==-1)return;let a=o.substring(0,n),c=this.callbackManager.getSubscriptionCallback(o);if(c!=null){c(e);return}},jt=function(e,t,o=0){return new Promise((i,n)=>{g(this,V,zi).call(this,e,JSON.stringify(t)||"{}",o,g(this,V,Ki).call(this,n,i))})},Ki=function(e,t){return o=>{try{var i=JSON.parse(o.o)}catch(a){e(xn(o.o));return}if(o.m===5){e(q.Factory.createFromApResponse(i));return}var n=i;if((n==null?void 0:n.result)===!1&&(n==null?void 0:n.errormsg)!=null){e(q.Factory.createFromApResponse(i));return}t(i)}},zi=function(e,t,o,i=Pn){let n=this.callbackManager.putCallback(i),a={m:o,i:n,n:e,o:t};this.peekMessageOut(a),this.websocket.send(JSON.stringify(a))};function xn(r){return q.Factory.createFromApResponse({result:!1,errormsg:r,errorcode:ft.UNDEFINED,statusCode:-1,detail:""})}function wn(r){if(r.m===5)return!0;try{return r.o.result==!1}catch(t){return!1}}var Be,$i,Xi,Kt=class{constructor(e){M(this,Be);this.closeRequested=!1,this.reconnecting=!1,this.connectionConfiguration=e.connectionConfiguration,this.pinger=new Ht,this.resubscriber=new Qt,this.reauther=new Bt,this.connection=null}getResubscriber(){return this.resubscriber}getReauther(){return this.reauther}getConnection(){if(this.reconnecting)throw new q("unable to make notbank request. websocket reconnecting",-1);return this.connection}reconnect(){return E(this,null,function*(){this.reconnecting||this.closeRequested||(this.reconnecting=!0,this.closeCurrentConnection(),this.connection=g(this,Be,Xi).call(this),yield g(this,Be,$i).call(this),this.reauther.makeAuthentication(this.connection),this.resubscriber.makeSubscriptions(this.connection),this.pinger.startPing(this.connection,this),this.reconnecting=!1)})}closeCurrentConnection(){var t;this.pinger.stop();var e=(t=this.connection)==null?void 0:t.close();return e}close(){this.closeRequested=!0;var e=this.closeCurrentConnection();return e}};Be=new WeakSet,$i=function(){return E(this,null,function*(){for(;!this.closeRequested;)try{yield Promise.race([this.connection.connect(),new Promise((e,t)=>setTimeout(t,1e4))]);return}catch(e){}})},Xi=function(){var e,t;return new He({domain:this.connectionConfiguration.domain,peekMessageIn:this.connectionConfiguration.peekMessageIn,peekMessageOut:this.connectionConfiguration.peekMessageOut,websocketHooks:{onMessage:(e=this.connectionConfiguration.websocketHooks)==null?void 0:e.onMessage,onOpen:(t=this.connectionConfiguration.websocketHooks)==null?void 0:t.onOpen,onError:o=>{var i,n;this.reconnecting||(n=(i=this.connectionConfiguration.websocketHooks)==null?void 0:i.onError)==null||n.call(i,o)},onClose:o=>{var i,n;this.reconnecting||!this.closeRequested||(n=(i=this.connectionConfiguration.websocketHooks)==null?void 0:i.onClose)==null||n.call(i,o)}}})};var zt=class{constructor(e){this.restarter=e.restarter}nbFormDataRequest(e,t,o,i){throw new Error("websocket client does not support nb form data methods.")}updateSessionToken(e){throw new Error("websocket client does not support updating session token.")}apRequest(e,t,o){return e==="LogOut"&&this.restarter.getReauther().removeAuthentication(),this.restarter.getConnection().apRequest(e,t,o)}nbRequest(e,t,o,i){throw new Error("websocket client does not support nb methods.")}authenticateUser(e){return E(this,null,function*(){yield this.restarter.getConnection().authenticateUser(e),this.restarter.getReauther().updateAuthentication(t=>t.authenticateUser(e))})}subscribe(e,t,o,i,n){return E(this,null,function*(){yield this.restarter.getConnection().subscribe(e,t,o,i,n),this.restarter.getResubscriber().saveSubscription({endpoint:e,firstIdentifier:t,secondIdentifier:o,message:i,subscriptionHandlers:n})})}unsubscribe(e,t,o,i,n){return E(this,null,function*(){yield this.restarter.getConnection().unsubscribe(e,t,o,i,n),this.restarter.getResubscriber().removeSubscription(n)})}get readyState(){return this.restarter.getConnection().readyState}connect(){return this.restarter.reconnect()}close(){return this.restarter.close()}};function ee(r,e){return e==null?null:te(r,e)}function te(r,e){return{eventName:r,eventHandler:t=>e(Mn(t.o))}}function Mn(r){return JSON.parse(r)}var $t=class{constructor(e){this.OMS_ID=1;this.connection=e}subscribeLevel1(e,t,o){let i=d(e,this.OMS_ID);return this.connection.subscribe("SubscribeLevel1",e.InstrumentId||null,null,i,[te("SubscribeLevel1",t),te("Level1UpdateEvent",o)])}unsubscribeLevel1(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);yield this.connection.unsubscribe("UnsubscribeLevel1",e.InstrumentId||null,null,t,["SubscribeLevel1","UnsubscribeLevel1"])})}subscribeLevel2(e,t,o){let i=d(e,this.OMS_ID);return this.connection.subscribe("SubscribeLevel2",e.InstrumentId,null,i,[te("SubscribeLevel2",t),te("Level2UpdateEvent",o)])}unsubscribeLevel2(e){let t=d(e,this.OMS_ID);return this.connection.unsubscribe("UnsubscribeLevel2",e.InstrumentId||null,null,t,[Z.get("SubscribeLevel2",e.InstrumentId)])}subscribeTrades(e,t){let o=d(e,this.OMS_ID);return this.connection.subscribe("SubscribeTrades",e.InstrumentId,null,o,[te("SubscribeTrades",i=>t(Gt(i)))])}unsubscribeTrades(e){let t=d(e,this.OMS_ID);return this.connection.unsubscribe("UnsubscribeTrades",e.InstrumentId,null,t,["SubscribeTrades"])}subscribeTicker(e,t,o){let i=d(e,this.OMS_ID);return this.connection.subscribe("SubscribeTicker",e.InstrumentId||null,null,i,[te("SubscribeTicker",t),te("TickerDataUpdateEvent_"+e.InstrumentId,o)])}unsubscribeTicker(e){let t=d(e,this.OMS_ID);return this.connection.unsubscribe("UnsubscribeTicker",e.InstrumentId||null,null,t,["SubscribeTicker"])}subscribeAccountEvents(e,t){let o=d(e,this.OMS_ID);return this.connection.subscribe("SubscribeAccountEvents",e.AccountId,null,o,[ee("WithdrawTicketUpdateEvent",t.withdrawTicketUpdateEventHandler||null),ee("OrderTradeEvent",t.orderTradeEventHandler||null),ee("OrderStateEvent",t.orderStateEventHandler||null),ee("DepositTicketUpdateEvent",t.depositTicketUpdateEventHandler||null),ee("AccountPositionEvent",t.accountPositionEventHandler||null),ee("AccountInfoUpdateEvent",t.accountInfoUpdateEventHandler||null),ee("CancelOrderRejectEvent",t.cancelOrderRejectEventHandler||null),ee("DepositEvent",t.depositEventHandler||null),ee("TransactionEvent",t.transactionEventHandler||null)].filter(i=>i!=null))}unsubscribeAccountEvents(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.unsubscribe("UnsubscribeAccountEvents",e.AccountId,null,t,["WithdrawTicketUpdateEvent","OrderTradeEvent","OrderStateEvent","DepositTicketUpdateEvent","AccountPositionEvent","AccountInfoUpdateEvent","CancelOrderRejectEvent","DepositEvent","TransactionEvent"])})}subscribeOrderStateEvents(e,t){let o=d(e,this.OMS_ID);return this.connection.subscribe("SubscribeOrderStateEvents",e.AccountId,e.InstrumentId||null,o,[te("OrderStateEvent",t)])}unsubscribeOrderStateEvents(e){let t=d(e,this.OMS_ID);return this.connection.unsubscribe("UnsubscribeOrderStateEvents",e.AccountId,e.InstrumentId||null,t,["SubscribeOrderStateEvents"])}};var Xt=class{constructor(e){var t=e!=null&&e.withReconnect?new zt({restarter:new Kt({connectionConfiguration:e||{}})}):new He(e);this.serviceConnection=t,this.getReadyState=()=>t.readyState}connect(){return this.serviceConnection.connect()}close(){return this.serviceConnection.close()}get isConnecting(){return this.getReadyState()===WebSocket.CONNECTING}get isConnected(){return this.getReadyState()===WebSocket.OPEN}get isClosing(){return this.getReadyState()===WebSocket.CLOSING}get isClosed(){return this.getReadyState()===WebSocket.CLOSED}authenticateUser(e){return E(this,null,function*(){var t=pt(),o=St(e.ApiPublicKey,e.ApiSecretKey,e.UserId,t);yield this.serviceConnection.authenticateUser({APIKey:e.ApiPublicKey,Signature:o,UserId:e.UserId,Nonce:t})})}updateSessionToken(e){return this.serviceConnection.updateSessionToken(e)}getConnection(){return this.serviceConnection}newAccountService(){return new ve(this.serviceConnection)}newAuthService(){return new Ue(this.serviceConnection)}newFeeService(){return new be(this.serviceConnection)}newInstrumentService(){return new Pe(this.serviceConnection)}newProductService(){return new De(this.serviceConnection)}newReportService(){return new xe(this.serviceConnection)}newSystemService(){return new we(this.serviceConnection)}getSubscriptionService(){return new $t(this.serviceConnection)}newTradingService(){return new Me(this.serviceConnection)}newUserService(){return new qe(this.serviceConnection)}newWalletService(){return new Ce(this.serviceConnection)}newQuoteService(){return new ye(this.serviceConnection)}newRegisterService(){return new Le(this.serviceConnection)}newVerificationService(){return new Fe(this.serviceConnection)}newSavingsService(){return new Ge(this.serviceConnection)}};var at=class at{constructor(e){this.connection=e.connection,this.accountService=e.accountService,this.authService=e.authService,this.feeService=e.feeService,this.instrumentService=e.instrumentService,this.productService=e.productService,this.reportService=e.reportService,this.getSubscriptionService=()=>e.getSubscriptionService(),this.systemService=e.systemService,this.tradingService=e.tradingService,this.userService=e.userService,this.walletService=e.walletService,this.quoteService=e.quoteService,this.registerService=e.registerService,this.verificationService=e.verificationService,this.savingsService=e.savingsService,this.authenticateUser=e.authenticate,this.updateSessionToken=e.updateSessionToken,this.connect=e.connect,this.close=e.close}getAccountService(){return this.accountService}getAuthService(){return this.authService}getFeeService(){return this.feeService}getInstrumentService(){return this.instrumentService}getProductService(){return this.productService}getReportService(){return this.reportService}getSystemService(){return this.systemService}getTradingService(){return this.tradingService}getUserService(){return this.userService}getWalletService(){return this.walletService}getQuoteService(){return this.quoteService}getRegisterService(){return this.registerService}getVerificationService(){return this.verificationService}getSavingsService(){return this.savingsService}getConnection(){return this.connection}};at.Factory=class{static createRestClient(t){var o=new kt(t);return new at({connection:o.getConnection(),accountService:o.newAccountService(),authService:o.newAuthService(),feeService:o.newFeeService(),instrumentService:o.newInstrumentService(),productService:o.newProductService(),reportService:o.newReportService(),getSubscriptionService:()=>{throw new q("NotbankError. subcription service only exists for websocket connection",-1)},systemService:o.newSystemService(),tradingService:o.newTradingService(),userService:o.newUserService(),walletService:o.newWalletService(),quoteService:o.newQuoteService(),registerService:o.newRegisterService(),verificationService:o.newVerificationService(),savingsService:o.newSavingsService(),authenticate:i=>o.authenticateUser(i),updateSessionToken:i=>o.updateSessionToken(i),connect:()=>Promise.resolve(null),close:()=>Promise.resolve(null)})}static createWebsocketClient(t){var o=new Xt(t);return new at({connection:o.getConnection(),accountService:o.newAccountService(),authService:o.newAuthService(),feeService:o.newFeeService(),instrumentService:o.newInstrumentService(),productService:o.newProductService(),reportService:o.newReportService(),getSubscriptionService:()=>o.getSubscriptionService(),systemService:o.newSystemService(),tradingService:o.newTradingService(),userService:o.newUserService(),walletService:o.newWalletService(),quoteService:o.newQuoteService(),registerService:o.newRegisterService(),verificationService:o.newVerificationService(),authenticate:i=>o.authenticateUser(i),updateSessionToken:i=>o.updateSessionToken(i),savingsService:o.newSavingsService(),connect:()=>o.connect(),close:()=>o.close()})}};var Zt=at;return cs(qn);})();
//# sourceMappingURL=bundle.min.js.map
